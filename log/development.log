2019-01-03T13:51:20-0500: [Worker(delayed_job host:ubuntu pid:19900)] Starting job worker
2019-01-03T13:51:20-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)
2019-01-03T13:56:20-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)


Started GET "/" for 127.0.0.1 at 2019-01-03 13:59:33 -0500

Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'



Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'




Started GET "/" for 127.0.0.1 at 2019-01-03 13:59:38 -0500

Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'



Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'




Started GET "/" for 127.0.0.1 at 2019-01-03 13:59:40 -0500

Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'



Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'


2019-01-03T14:01:20-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)


Started GET "/" for 127.0.0.1 at 2019-01-03 14:01:26 -0500

Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'



Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'




Started GET "/" for 127.0.0.1 at 2019-01-03 14:01:28 -0500

Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'



Mysql2::Error (Access denied for user 'parallels'@'localhost' (using password: YES)):
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `connect'
  mysql2 (0.3.20) lib/mysql2/client.rb:70:in `initialize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `new'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/mysql2_adapter.rb:18:in `mysql2_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /home/parallels/.rvm/rubies/ruby-2.3.7/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:571:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.7.1) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:51:in `restore_query_cache_settings'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:43:in `rescue in call'
  activerecord (4.2.7.1) lib/active_record/query_cache.rb:30:in `call'
  activerecord (4.2.7.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.7.1) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.7.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.7.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.7.1) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  request_store (1.4.1) lib/request_store/middleware.rb:19:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.11) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.11) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.7.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.11) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.7.1) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.11) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.7.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.7.1) lib/rails/application.rb:165:in `call'
  rack (1.6.11) lib/rack/content_length.rb:15:in `call'
  puma (3.11.0) lib/puma/configuration.rb:225:in `call'
  puma (3.11.0) lib/puma/server.rb:624:in `handle_request'
  puma (3.11.0) lib/puma/server.rb:438:in `process_client'
  puma (3.11.0) lib/puma/server.rb:302:in `block in run'
  puma (3.11.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'




Started GET "/" for 127.0.0.1 at 2019-01-03 14:05:35 -0500
Processing by Devise::SessionsController#new as HTML
Completed 500 Internal Server Error in 55ms (ActiveRecord: 31.2ms)

ActiveRecord::StatementInvalid (Mysql2::Error: Table 'osb_development.sessions' doesn't exist: SHOW FULL FIELDS FROM `sessions`):
  app/controllers/application_controller.rb:180:in `set_listing_layout'


2019-01-03T14:06:20-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)
  [1m[36m (172.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (40.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAccountUsers (20150211112822)
  [1m[35m (15.7ms)[0m  CREATE TABLE `account_users` (`id` int(11) auto_increment PRIMARY KEY, `user_id` int(11), `account_id` int(11)) ENGINE=InnoDB
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211112822')
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateAccounts (20150211113029)
  [1m[35m (11.6ms)[0m  CREATE TABLE `accounts` (`id` int(11) auto_increment PRIMARY KEY, `org_name` varchar(255), `country` varchar(255), `street_address_1` varchar(255), `street_address_2` varchar(255), `city` varchar(255), `province_or_state` varchar(255), `postal_or_zip_code` varchar(255), `profession` varchar(255), `phone_business` varchar(255), `phone_mobile` varchar(255), `fax` varchar(255), `email` varchar(255), `time_zone` varchar(255), `auto_dst_adjustment` tinyint(1), `currency_code` varchar(255), `currency_symbol` varchar(255), `admin_first_name` varchar(255), `admin_last_name` varchar(255), `admin_email` varchar(255), `admin_billing_rate_per_hour` decimal(10,0), `admin_user_name` varchar(255), `admin_password` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113029')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateApiKeys (20150211113630)
  [1m[35m (7.4ms)[0m  CREATE TABLE `api_keys` (`id` int(11) auto_increment PRIMARY KEY, `access_token` varchar(255), `expires_at` datetime, `user_id` int(11), `active` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (11.4ms)[0m  [1mCREATE UNIQUE INDEX `index_api_keys_on_access_token` USING btree ON `api_keys` (`access_token`) [0m
  [1m[35m (11.6ms)[0m  CREATE  INDEX `index_api_keys_on_user_id` USING btree ON `api_keys` (`user_id`) 
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113630')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateCategories (20150211113714)
  [1m[35m (12.5ms)[0m  CREATE TABLE `categories` (`id` int(11) auto_increment PRIMARY KEY, `category` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113714')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateClientContacts (20150211113755)
  [1m[35m (11.1ms)[0m  CREATE TABLE `client_contacts` (`id` int(11) auto_increment PRIMARY KEY, `client_id` int(11), `first_name` varchar(255), `last_name` varchar(255), `email` varchar(255), `home_phone` varchar(255), `mobile_number` varchar(255), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113755')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateClients (20150211113830)
  [1m[35m (8.8ms)[0m  CREATE TABLE `clients` (`id` int(11) auto_increment PRIMARY KEY, `organization_name` varchar(255), `email` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `home_phone` varchar(255), `mobile_number` varchar(255), `send_invoice_by` varchar(255), `country` varchar(255), `address_street1` varchar(255), `address_street2` varchar(255), `city` varchar(255), `province_state` varchar(255), `postal_zip_code` varchar(255), `industry` varchar(255), `company_size` varchar(255), `business_phone` varchar(255), `fax` varchar(255), `internal_notes` text, `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `available_credit` decimal(8,2) DEFAULT 0.0) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113830')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateCompanies (20150211113913)
  [1m[35m (77.0ms)[0m  CREATE TABLE `companies` (`id` int(11) auto_increment PRIMARY KEY, `account_id` int(11), `company_name` varchar(255), `contact_name` varchar(255), `contact_title` varchar(255), `country` varchar(255), `city` varchar(255), `street_address_1` varchar(255), `street_address_2` varchar(255), `province_or_state` varchar(255), `postal_or_zipcode` varchar(255), `phone_number` varchar(255), `fax_number` varchar(255), `email` varchar(255), `logo` varchar(255), `company_tag_line` varchar(255), `memo` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113913')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateCompanyEmailTemplates (20150211113945)
  [1m[35m (9.8ms)[0m  CREATE TABLE `company_email_templates` (`id` int(11) auto_increment PRIMARY KEY, `template_id` int(11), `parent_id` int(11), `parent_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211113945')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateCompanyEntities (20150211114014)
  [1m[35m (13.0ms)[0m  CREATE TABLE `company_entities` (`id` int(11) auto_increment PRIMARY KEY, `entity_id` int(11), `entity_type` varchar(255), `parent_id` int(11), `parent_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211114014')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateCreditPayments (20150211114039)
  [1m[35m (9.3ms)[0m  CREATE TABLE `credit_payments` (`id` int(11) auto_increment PRIMARY KEY, `payment_id` int(11), `invoice_id` int(11), `amount` decimal(10,2), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `credit_id` int(11)) ENGINE=InnoDB
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211114039')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateCurrencies (20150211114142)
  [1m[35m (12.6ms)[0m  CREATE TABLE `currencies` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255), `code` varchar(255), `unit` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB DEFAULT CHARSET=utf8
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211114142')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateDelayedJobs (20150211114241)
  [1m[35m (8.6ms)[0m  CREATE TABLE `delayed_jobs` (`id` int(11) auto_increment PRIMARY KEY, `priority` int(11) DEFAULT 0, `attempts` int(11) DEFAULT 0, `handler` text, `last_error` text, `run_at` datetime, `locked_at` datetime, `failed_at` datetime, `locked_by` varchar(255), `queue` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `recurring_profile_id` int(11)) ENGINE=InnoDB
  [1m[36m (7.5ms)[0m  [1mCREATE  INDEX `delayed_jobs_priority` USING btree ON `delayed_jobs` (`priority`, `run_at`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114241')[0m
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to CreateEmailTemplates (20150211114331)
  [1m[36m (11.5ms)[0m  [1mCREATE TABLE `email_templates` (`id` int(11) auto_increment PRIMARY KEY, `template_type` varchar(255), `email_from` varchar(255), `subject` varchar(255), `body` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `status` varchar(255), `torder` int(11), `send_email` tinyint(1) DEFAULT 1, `no_of_days` int(11), `is_late_payment_reminder` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114331')[0m
  [1m[35m (1.4ms)[0m  COMMIT
Migrating to CreateInvoiceLineItems (20150211114400)
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE `invoice_line_items` (`id` int(11) auto_increment PRIMARY KEY, `invoice_id` int(11), `item_id` int(11), `item_name` varchar(255), `item_description` varchar(255), `item_unit_cost` decimal(10,2), `item_quantity` decimal(10,2), `tax_1` int(11), `tax_2` int(11), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `actual_price` decimal(10,2) DEFAULT 0.0, `estimate_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114400')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreateInvoices (20150211114427)
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE `invoices` (`id` int(11) auto_increment PRIMARY KEY, `invoice_number` varchar(255), `invoice_date` datetime, `po_number` varchar(255), `discount_percentage` decimal(10,2), `client_id` int(11), `terms` text, `notes` text, `status` varchar(255), `sub_total` decimal(10,2), `discount_amount` decimal(10,2), `tax_amount` decimal(10,2), `invoice_total` decimal(10,2), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `payment_terms_id` int(11), `due_date` date, `last_invoice_status` varchar(255), `discount_type` varchar(255), `company_id` int(11), `project_id` int(11), `invoice_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114427')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreateItems (20150211114453)
  [1m[36m (15.9ms)[0m  [1mCREATE TABLE `items` (`id` int(11) auto_increment PRIMARY KEY, `item_name` varchar(255), `item_description` varchar(255), `unit_cost` decimal(10,2), `quantity` decimal(10,2), `tax_1` int(11), `tax_2` int(11), `track_inventory` tinyint(1), `inventory` int(11), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `actual_price` decimal(10,2) DEFAULT 0.0) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114453')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreatePaymentTerms (20150211114833)
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE `payment_terms` (`id` int(11) auto_increment PRIMARY KEY, `number_of_days` int(11), `description` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114833')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreatePayments (20150211114857)
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE `payments` (`id` int(11) auto_increment PRIMARY KEY, `invoice_id` int(11), `payment_amount` decimal(8,2), `payment_type` varchar(255), `payment_method` varchar(255), `payment_date` date, `notes` text, `send_payment_notification` tinyint(1), `paid_full` tinyint(1), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `credit_applied` decimal(10,2), `client_id` int(11), `company_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114857')[0m
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to CreateRecurringProfileLineItems (20150211114934)
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE `recurring_profile_line_items` (`id` int(11) auto_increment PRIMARY KEY, `recurring_profile_id` int(11), `item_id` int(11), `item_name` varchar(255), `item_description` varchar(255), `item_unit_cost` decimal(10,2), `item_quantity` decimal(10,2), `tax_1` int(11), `tax_2` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211114934')[0m
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to CreateRecurringProfiles (20150211115008)
  [1m[36m (10.3ms)[0m  [1mCREATE TABLE `recurring_profiles` (`id` int(11) auto_increment PRIMARY KEY, `first_invoice_date` datetime, `po_number` varchar(255), `discount_percentage` decimal(10,2), `frequency` varchar(255), `occurrences` int(11), `prorate` tinyint(1), `prorate_for` decimal(10,2), `gateway_id` int(11), `client_id` int(11), `notes` text, `status` varchar(255), `sub_total` decimal(10,2), `discount_amount` decimal(10,2), `tax_amount` decimal(10,2), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `invoice_number` varchar(255), `discount_type` varchar(255), `invoice_total` decimal(10,2), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `payment_terms_id` int(11), `company_id` int(11), `last_invoice_status` varchar(255), `last_sent_date` datetime, `sent_invoices` int(11)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211115008')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreateSentEmails (20150211115032)
  [1m[36m (10.6ms)[0m  [1mCREATE TABLE `sent_emails` (`id` int(11) auto_increment PRIMARY KEY, `date` date, `sender` varchar(255), `recipient` varchar(255), `type` varchar(255), `subject` varchar(255), `content` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `notification_id` int(11), `notification_type` varchar(255), `company_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211115032')[0m
  [1m[35m (1.4ms)[0m  COMMIT
Migrating to CreateTaxes (20150211115131)
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `taxes` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `percentage` decimal(10,2), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211115131')[0m
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to CreateUsers (20150211115204)
  [1m[36m (19.2ms)[0m  [1mCREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `unconfirmed_email` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `password_salt` varchar(255), `user_name` varchar(255), `current_company` int(11), `authentication_token` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (6.2ms)[0m  CREATE  INDEX `index_users_on_authentication_token` USING btree ON `users` (`authentication_token`) 
  [1m[36m (10.1ms)[0m  [1mCREATE UNIQUE INDEX `index_users_on_confirmation_token` USING btree ON `users` (`confirmation_token`) [0m
  [1m[35m (9.5ms)[0m  CREATE UNIQUE INDEX `index_users_on_reset_password_token` USING btree ON `users` (`reset_password_token`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150211115204')
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateVersions (20150211115231)
  [1m[35m (6.7ms)[0m  CREATE TABLE `versions` (`id` int(11) auto_increment PRIMARY KEY, `item_type` varchar(255) NOT NULL, `item_id` int(11) NOT NULL, `event` varchar(255) NOT NULL, `whodunnit` varchar(255), `object` text, `created_at` datetime) ENGINE=InnoDB
  [1m[36m (8.0ms)[0m  [1mCREATE  INDEX `index_versions_on_item_type_and_item_id` USING btree ON `versions` (`item_type`, `item_id`) [0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150211115231')[0m
  [1m[35m (2.5ms)[0m  COMMIT
Migrating to AddCurrencyIdToRecurringProfile (20150224123445)
  [1m[36m (13.0ms)[0m  [1mALTER TABLE `recurring_profiles` ADD `currency_id` int(11)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150224123445')[0m
  [1m[35m (1.7ms)[0m  COMMIT
Migrating to AddColumnCurrencyIdToInvoicesAndClients (20150304135920)
  [1m[36m (20.3ms)[0m  [1mALTER TABLE `clients` ADD `currency_id` int(11)[0m
  [1m[35m (25.7ms)[0m  ALTER TABLE `invoices` ADD `currency_id` int(11)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150304135920')
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateLineItemTaxes (20150330130413)
  [1m[35m (10.8ms)[0m  CREATE TABLE `line_item_taxes` (`id` int(11) auto_increment PRIMARY KEY, `invoice_line_item_id` int(11), `percentage` decimal, `name` varchar(255), `tax_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150330130413')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Migrating to AddActsAsArchivalToLineItemTax (20150331075044)
  [1m[35m (18.9ms)[0m  ALTER TABLE `line_item_taxes` ADD `archive_number` varchar(255)
  [1m[36m (17.8ms)[0m  [1mALTER TABLE `line_item_taxes` ADD `archived_at` datetime[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150331075044')[0m
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to AddColumnToLineItemTax (20150331075423)
  [1m[36m (18.7ms)[0m  [1mALTER TABLE `line_item_taxes` ADD `deleted_at` datetime[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150331075423')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to CreateSettings (20150403055445)
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE `settings` (`id` int(11) auto_increment PRIMARY KEY, `var` varchar(255) NOT NULL, `value` text, `thing_id` int(11), `thing_type` varchar(30), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (13.8ms)[0m  CREATE UNIQUE INDEX `index_settings_on_thing_type_and_thing_id_and_var`  ON `settings` (`thing_type`, `thing_id`, `var`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150403055445')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to AddStatusToPayment (20150429054414)
  [1m[35m (24.6ms)[0m  ALTER TABLE `payments` ADD `status` varchar(255)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150429054414')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Migrating to AddTrackstampsToInvoice (20150520131850)
  [1m[35m (18.5ms)[0m  ALTER TABLE `invoices` ADD `created_by` int(11)
  [1m[36m (29.7ms)[0m  [1mALTER TABLE `invoices` ADD `updated_by` int(11)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150520131850')[0m
  [1m[35m (1.3ms)[0m  COMMIT
Migrating to AddFieldsToRecurringProfile (20150521105207)
  [1m[36m (26.6ms)[0m  [1mALTER TABLE `recurring_profiles` ADD `created_by` int(11)[0m
  [1m[35m (26.0ms)[0m  ALTER TABLE `recurring_profiles` ADD `updated_by` int(11)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20150521105207')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateDoorkeeperTables (20150527141546)
  [1m[35m (7.7ms)[0m  CREATE TABLE `oauth_applications` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `uid` varchar(255) NOT NULL, `secret` varchar(255) NOT NULL, `redirect_uri` text NOT NULL, `scopes` varchar(255) DEFAULT '' NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (9.7ms)[0m  [1mCREATE UNIQUE INDEX `index_oauth_applications_on_uid`  ON `oauth_applications` (`uid`) [0m
  [1m[35m (7.8ms)[0m  CREATE TABLE `oauth_access_grants` (`id` int(11) auto_increment PRIMARY KEY, `resource_owner_id` int(11) NOT NULL, `application_id` int(11) NOT NULL, `token` varchar(255) NOT NULL, `expires_in` int(11) NOT NULL, `redirect_uri` text NOT NULL, `created_at` datetime NOT NULL, `revoked_at` datetime, `scopes` varchar(255)) ENGINE=InnoDB
  [1m[36m (9.0ms)[0m  [1mCREATE UNIQUE INDEX `index_oauth_access_grants_on_token`  ON `oauth_access_grants` (`token`) [0m
  [1m[35m (6.3ms)[0m  CREATE TABLE `oauth_access_tokens` (`id` int(11) auto_increment PRIMARY KEY, `resource_owner_id` int(11), `application_id` int(11), `token` varchar(255) NOT NULL, `refresh_token` varchar(255), `expires_in` int(11), `revoked_at` datetime, `created_at` datetime NOT NULL, `scopes` varchar(255)) ENGINE=InnoDB
  [1m[36m (14.3ms)[0m  [1mCREATE UNIQUE INDEX `index_oauth_access_tokens_on_token`  ON `oauth_access_tokens` (`token`) [0m
  [1m[35m (10.4ms)[0m  CREATE  INDEX `index_oauth_access_tokens_on_resource_owner_id`  ON `oauth_access_tokens` (`resource_owner_id`) 
  [1m[36m (6.2ms)[0m  [1mCREATE UNIQUE INDEX `index_oauth_access_tokens_on_refresh_token`  ON `oauth_access_tokens` (`refresh_token`) [0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150527141546')[0m
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreateEstimates (20160208152135)
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE `estimates` (`id` int(11) auto_increment PRIMARY KEY, `estimate_number` varchar(255), `estimate_date` datetime, `po_number` varchar(255), `discount_percentage` decimal(10,2), `client_id` int(11), `terms` text, `notes` text, `status` varchar(255), `sub_total` decimal(10,2), `discount_amount` decimal(10,2), `tax_amount` decimal(10,2), `estimate_total` decimal(10,2), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL, `discount_type` varchar(255), `company_id` int(11), `created_by` int(11), `updated_by` int(11), `currency_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160208152135')[0m
  [1m[35m (1.7ms)[0m  COMMIT
Migrating to CreateExpenses (20160215152715)
  [1m[36m (50.5ms)[0m  [1mCREATE TABLE `expenses` (`id` int(11) auto_increment PRIMARY KEY, `amount` float, `expense_date` datetime, `category_id` int(11), `note` text, `client_id` int(11), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` time, `tax_1` float, `tax_2` float, `company_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160215152715')[0m
  [1m[35m (1.8ms)[0m  COMMIT
Migrating to CreateExpenseCategories (20160219082001)
  [1m[36m (11.4ms)[0m  [1mCREATE TABLE `expense_categories` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160219082001')[0m
  [1m[35m (1.6ms)[0m  COMMIT
Migrating to CreateProjects (20160224113217)
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE `projects` (`id` int(11) auto_increment PRIMARY KEY, `project_name` varchar(255), `client_id` int(11), `manager_id` int(11), `billing_method` varchar(255), `description` text, `total_hours` int(11), `company_id` int(11), `updated_by` int(11), `created_by` int(11), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160224113217')[0m
  [1m[35m (2.7ms)[0m  COMMIT
Migrating to CreateTasks (20160224125613)
  [1m[36m (12.1ms)[0m  [1mCREATE TABLE `tasks` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `billable` tinyint(1), `rate` float, `archive_number` varchar(255), `archived_at` datetime, `deleted_at` time, `updated_by` int(11), `created_by` int(11), `project_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160224125613')[0m
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to CreateStaffs (20160226125408)
  [1m[36m (8.7ms)[0m  [1mCREATE TABLE `staffs` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `name` varchar(255), `rate` float, `created_by` int(11), `updated_by` int(11), `archive_number` varchar(255), `archived_at` datetime, `deleted_at` time, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160226125408')[0m
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to CreateLogs (20160302170954)
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE `logs` (`id` int(11) auto_increment PRIMARY KEY, `project_id` int(11), `task_id` int(11), `hours` float, `notes` varchar(255), `date` date, `company_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160302170954')[0m
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to CreateProjectTasks (20160303083212)
  [1m[36m (11.0ms)[0m  [1mCREATE TABLE `project_tasks` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `rate` float, `archive_number` varchar(255), `archived_at` datetime, `project_id` int(11), `task_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160303083212')[0m
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to CreateTeamMembers (20160303151412)
  [1m[36m (9.8ms)[0m  [1mCREATE TABLE `team_members` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `name` varchar(255), `rate` float, `archive_number` varchar(255), `archived_at` datetime, `project_id` int(11), `staff_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160303151412')[0m
  [1m[35m (1.6ms)[0m  COMMIT
Migrating to CreateInvoiceTasks (20160330110032)
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE `invoice_tasks` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `rate` int(11), `hours` float, `invoice_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160330110032')[0m
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddCompanyIdToStaffs (20160412155145)
  [1m[36m (17.3ms)[0m  [1mALTER TABLE `staffs` ADD `company_id` int(11)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160412155145')[0m
  [1m[35m (2.4ms)[0m  COMMIT
Migrating to AddProviderIntoClient (20160509110002)
  [1m[36m (15.1ms)[0m  [1mALTER TABLE `clients` ADD `provider` varchar(255)[0m
  [1m[35m (23.4ms)[0m  ALTER TABLE `clients` ADD `provider_id` varchar(255)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160509110002')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToTax (20160509124425)
  [1m[35m (14.0ms)[0m  ALTER TABLE `taxes` ADD `provider` varchar(255)
  [1m[36m (13.2ms)[0m  [1mALTER TABLE `taxes` ADD `provider_id` varchar(255)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160509124425')[0m
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddProviderToItem (20160509124435)
  [1m[36m (15.1ms)[0m  [1mALTER TABLE `items` ADD `provider` varchar(255)[0m
  [1m[35m (16.3ms)[0m  ALTER TABLE `items` ADD `provider_id` varchar(255)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160509124435')
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToInvoice (20160509124445)
  [1m[35m (14.0ms)[0m  ALTER TABLE `invoices` ADD `provider` varchar(255)
  [1m[36m (17.4ms)[0m  [1mALTER TABLE `invoices` ADD `provider_id` varchar(255)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160509124445')[0m
  [1m[35m (2.0ms)[0m  COMMIT
Migrating to AddProviderToTask (20160510082726)
  [1m[36m (16.8ms)[0m  [1mALTER TABLE `tasks` ADD `provider` varchar(255)[0m
  [1m[35m (16.8ms)[0m  ALTER TABLE `tasks` ADD `provider_id` varchar(255)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160510082726')
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToExpenseCategories (20160511113908)
  [1m[35m (12.1ms)[0m  ALTER TABLE `expense_categories` ADD `provider` varchar(255)
  [1m[36m (13.1ms)[0m  [1mALTER TABLE `expense_categories` ADD `provider_id` varchar(255)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160511113908')[0m
  [1m[35m (3.6ms)[0m  COMMIT
Migrating to ChangeTaxesDataTypesToExpenses (20160511121717)
  [1m[36m (25.2ms)[0m  [1mALTER TABLE `expenses` CHANGE `tax_1` `tax_1` int(11) DEFAULT NULL[0m
  [1m[35m (27.9ms)[0m  ALTER TABLE `expenses` CHANGE `tax_2` `tax_2` int(11) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160511121717')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToExpenses (20160511121932)
  [1m[35m (19.5ms)[0m  ALTER TABLE `expenses` ADD `provider` varchar(255)
  [1m[36m (18.9ms)[0m  [1mALTER TABLE `expenses` ADD `provider_id` varchar(255)[0m
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160511121932')[0m
  [1m[35m (2.6ms)[0m  COMMIT
Migrating to AddProviderToEstimates (20160512124933)
  [1m[36m (23.2ms)[0m  [1mALTER TABLE `estimates` ADD `provider` varchar(255)[0m
  [1m[35m (17.7ms)[0m  ALTER TABLE `estimates` ADD `provider_id` varchar(255)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160512124933')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToPayments (20160516100615)
  [1m[35m (17.0ms)[0m  ALTER TABLE `payments` ADD `provider` varchar(255)
  [1m[36m (19.2ms)[0m  [1mALTER TABLE `payments` ADD `provider_id` varchar(255)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160516100615')[0m
  [1m[35m (2.8ms)[0m  COMMIT
Migrating to AddProviderToStaffs (20160516113923)
  [1m[36m (20.3ms)[0m  [1mALTER TABLE `staffs` ADD `provider` varchar(255)[0m
  [1m[35m (17.2ms)[0m  ALTER TABLE `staffs` ADD `provider_id` varchar(255)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160516113923')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Migrating to AddProviderToProjects (20160516122508)
  [1m[35m (13.4ms)[0m  ALTER TABLE `projects` ADD `provider` varchar(255)
  [1m[36m (15.6ms)[0m  [1mALTER TABLE `projects` ADD `provider_id` varchar(255)[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20160516122508')[0m
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to AddProviderToLog (20160516130907)
  [1m[36m (17.0ms)[0m  [1mALTER TABLE `logs` ADD `provider` varchar(255)[0m
  [1m[35m (16.3ms)[0m  ALTER TABLE `logs` ADD `provider_id` varchar(255)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160516130907')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Migrating to AddSessionsTable (20160606082842)
  [1m[35m (9.7ms)[0m  CREATE TABLE `sessions` (`id` int(11) auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (4.6ms)[0m  [1mCREATE UNIQUE INDEX `index_sessions_on_session_id`  ON `sessions` (`session_id`) [0m
  [1m[35m (7.3ms)[0m  CREATE  INDEX `index_sessions_on_updated_at`  ON `sessions` (`updated_at`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160606082842')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to RolifyCreateRoles (20160727113319)
  [1m[35m (11.1ms)[0m  CREATE TABLE `roles` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `resource_id` int(11), `resource_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `users_roles` (`user_id` int(11), `role_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (10.9ms)[0m  CREATE  INDEX `index_roles_on_name`  ON `roles` (`name`) 
  [1m[36m (7.5ms)[0m  [1mCREATE  INDEX `index_roles_on_name_and_resource_type_and_resource_id`  ON `roles` (`name`, `resource_type`, `resource_id`) [0m
  [1m[35m (7.9ms)[0m  CREATE  INDEX `index_users_roles_on_user_id_and_role_id`  ON `users_roles` (`user_id`, `role_id`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160727113319')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddUserIdToStaffs (20160803122234)
  [1m[35m (20.5ms)[0m  ALTER TABLE `staffs` ADD `user_id` int(11)
  [1m[36m (2.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160803122234')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Migrating to AddUserIdToLogs (20160817124148)
  [1m[35m (23.4ms)[0m  ALTER TABLE `logs` ADD `user_id` int(11)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20160817124148')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Migrating to AddTaxIdToInvoices (20170329105019)
  [1m[35m (11.7ms)[0m  ALTER TABLE `invoices` ADD `tax_id` int(11)
  [1m[36m (19.7ms)[0m  [1mALTER TABLE `invoices` ADD `invoice_tax_amount` decimal[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20170329105019')[0m
  [1m[35m (1.7ms)[0m  COMMIT
Migrating to CreateRecurringSchedules (20170418090441)
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE `recurring_schedules` (`id` int(11) auto_increment PRIMARY KEY, `next_invoice_date` datetime, `frequency` varchar(255), `occurrences` int(11) DEFAULT 0, `delivery_option` varchar(255), `invoice_id` int(11), `generated_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20170418090441')[0m
  [1m[35m (1.2ms)[0m  COMMIT
Migrating to AddParentIdToInvoices (20170419071139)
  [1m[36m (19.3ms)[0m  [1mALTER TABLE `invoices` ADD `parent_id` int(11)[0m
  [1m[35m (2.9ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20170419071139')[0m
  [1m[35m (1.7ms)[0m  COMMIT
Migrating to AddEnableRecurringToRecurringSchedules (20170419133543)
  [1m[36m (13.7ms)[0m  [1mALTER TABLE `recurring_schedules` ADD `enable_recurring` tinyint(1) DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20170419133543')[0m
  [1m[35m (1.5ms)[0m  COMMIT
Migrating to AddHoursSpentTimeDatesToProjectTasks (20170501141525)
  [1m[36m (17.8ms)[0m  [1mALTER TABLE `project_tasks` ADD `start_date` datetime[0m
  [1m[35m (21.2ms)[0m  ALTER TABLE `project_tasks` ADD `due_date` datetime
  [1m[36m (17.3ms)[0m  [1mALTER TABLE `project_tasks` ADD `hours` float[0m
  [1m[35m (19.1ms)[0m  ALTER TABLE `project_tasks` ADD `spent_time` float
  [1m[36m (2.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20170501141525')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Migrating to AddAvatarToUsers (20180312070951)
  [1m[35m (23.1ms)[0m  ALTER TABLE `users` ADD `avatar` varchar(255)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20180312070951')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Migrating to UpdateColumnTypeOfInvoiceTaxAmountToInvoices (20180518112129)
  [1m[35m (26.1ms)[0m  ALTER TABLE `invoices` CHANGE `invoice_tax_amount` `invoice_tax_amount` decimal(10,2) DEFAULT NULL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20180518112129')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Migrating to AddEstimateTaxAmountAndTaxIdToEstimate (20181031121126)
  [1m[35m (17.5ms)[0m  ALTER TABLE `estimates` ADD `estimate_tax_amount` decimal(10,2)
  [1m[36m (16.1ms)[0m  [1mALTER TABLE `estimates` ADD `tax_id` int(11)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20181031121126')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (5.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'account_users'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `account_users`[0m
  [1m[35m (0.7ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'accounts'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `accounts`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'api_keys'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `api_keys`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'categories'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'client_contacts'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `client_contacts`[0m
  [1m[35m (1.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'clients'

  [1m[36m (0.9ms)[0m  [1mSHOW CREATE TABLE `clients`[0m
  [1m[35m (1.0ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'companies'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `companies`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'company_email_templates'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `company_email_templates`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'company_entities'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `company_entities`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'credit_payments'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `credit_payments`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'currencies'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `currencies`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'delayed_jobs'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `delayed_jobs`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'email_templates'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `email_templates`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'estimates'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `estimates`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'expense_categories'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `expense_categories`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'expenses'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `expenses`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'invoice_line_items'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `invoice_line_items`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'invoice_tasks'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `invoice_tasks`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'invoices'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `invoices`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'items'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `items`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'line_item_taxes'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `line_item_taxes`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'logs'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `logs`[0m
  [1m[35m (3.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'oauth_access_grants'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `oauth_access_grants`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'oauth_access_tokens'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `oauth_access_tokens`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'oauth_applications'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `oauth_applications`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'payment_terms'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `payment_terms`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'payments'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `payments`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'project_tasks'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `project_tasks`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'projects'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `projects`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'recurring_profile_line_items'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `recurring_profile_line_items`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'recurring_profiles'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `recurring_profiles`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'recurring_schedules'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `recurring_schedules`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'roles'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'sent_emails'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `sent_emails`[0m
  [1m[35m (0.8ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'sessions'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `sessions`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'settings'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `settings`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'staffs'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `staffs`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'tasks'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `tasks`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'taxes'

  [1m[36m (1.6ms)[0m  [1mSHOW CREATE TABLE `taxes`[0m
  [1m[35m (1.2ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'team_members'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `team_members`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'users'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'users_roles'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `users_roles`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'osb_development'
  AND fk.table_name = 'versions'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `versions`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (2.6ms)[0m  DELETE FROM `email_templates`
  [1m[36m (17.6ms)[0m  [1mTRUNCATE email_templates[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `company_email_templates`
  [1m[36m (6.7ms)[0m  [1mTRUNCATE company_email_templates[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (1, 'Default', 'New Invoice', 'nfor20@yahoo.com', '{{client_company}}: {{company_name}} Invoice: {{invoice_number}}', '<p>Dear {{client_contact}},</p>\n            <p>Thank you for your continued service with {{company_name}}, to download a PDF copy for your invoice, please click on below link:</p>\n            <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a> </p>\n            <p>Please remit payment at your earliest convenience. For all forms of payment please be sure to include your invoice number {{invoice_number}} for reference.</p>\n            <p>If you have any questions or comments please feel free to contact {{company_contact}} at {{company_phone}}.</p>\n            <p>Thanks,</p>\n            <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')[0m
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (2, 'Default', 'Payment Received', 'nfor20@yahoo.com', '{{company_name}} has received your payment for invoice {{invoice_number}}', '<p>We have received your payment in the amount of {{currency_symbol}}{{payment_amount}}  for invoice {{invoice_number}}.\n                <p>To view the paid invoice or download a PDF copy for your records, click the link below:</p>\n                <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a> </p>\n                <p>Thank you. </p>\n                <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `email_templates` (`no_of_days`, `is_late_payment_reminder`, `torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (2, 1, 3, 'Default', 'First Late Payment Reminder', 'nfor20@yahoo.com', '{{client_company}}: {{company_name}} Invoice is Past Due', '<p>Dear {{client_contact}},</p>\n           <p>This is a friendly reminder that payment for your {{company_name}} invoice: {{invoice_number}} in the amount of {{currency_symbol}}{{payment_amount_due}} is past due.</p>\n           <p>If there is a billing matter that you would like to discuss before submitting payment, please contact us as soon as possible at {{company_phone}}.</p>\n           <p>To access your invoice go to: </p>\n           <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a> </p>\n           <p>Thank you.</p>\n           <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')[0m
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `email_templates` (`no_of_days`, `is_late_payment_reminder`, `torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (5, 1, 4, 'Default', 'Second Late Payment Reminder', 'nfor20@yahoo.com', '{{client_company}}: {{company_name}} Invoice is Past Due', '<p>Dear {{client_contact}},</p>\n           <p>This is a friendly reminder that payment for your {{company_name}} invoice: {{invoice_number}} in the amount of {{currency_symbol}}{{payment_amount_due}} is past due.</p>\n           <p>If there is a billing matter that you would like to discuss before submitting payment, please contact us as soon as possible at {{company_phone}}.</p>\n           <p>To access your invoice go to: </p>\n           <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a> </p>\n           <p>Thank you.</p>\n           <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `email_templates` (`no_of_days`, `is_late_payment_reminder`, `torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (7, 1, 5, 'Default', 'Third Late Payment Reminder', 'nfor20@yahoo.com', '{{client_company}}: {{company_name}} Invoice is Past Due', '<p>Dear {{client_contact}},</p>\n           <p>This is a friendly reminder that payment for your {{company_name}} invoice: {{invoice_number}} in the amount of {{currency_symbol}}{{payment_amount_due}} is past due.</p>\n           <p>If there is a billing matter that you would like to discuss before submitting payment, please contact us as soon as possible at {{company_phone}}.</p>\n           <p>To access your invoice go to: </p>\n           <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a></p>\n           <p>Thank you.</p>\n           <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (6, 'Default', 'Dispute Invoice', 'nfor20@yahoo.com', 'Client Dispute Notification: {{client_company}}', '<p>{{company_contact}},</p>\n           <p>{{client_company}} wishes to dispute {{company_name}} invoice {{invoice_number}}, citing:</p>\n           <p>{{reason}}</p>\n           <p>Please log into your account and respond accordingly.</p>\n           <p>Thanks,</p>\n           <p>Open Source Billing</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (7, 'Default', 'Dispute Reply', 'nfor20@yahoo.com', '{{company_name}} Dispute Response regarding invoice {{invoice_number}}', '<p>Dear {{client_contact}},</p>\n           <p>We have carefully reviewed your request regarding invoice number {{invoice_number}}. This is our response:</p>\n           <p> {{dispute_response}}\n           <p>URL for Invoice Preview:</p>\n           <p><a href=\"{{invoice_url}}\">Invoice# {{invoice_number}}</a></p>\n           <p>Thank you.</p>\n           <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (8, 'Default', 'New User', 'nfor20@yahoo.com', 'Welcome to {{company_name}}\'s invoicing services provided by Open Source Billing.', '<p>Welcome to {{company_name}}\'s secure online services provided by Open Source Billing.</p>\n           <p>To securely access your account information and invoices, go to: </p>\n           <p><a href=\'{{app_url}}\'>{{app_url}}</a></p>\n           <p>Login using the following username and password:<p>\n           <p> Username:  {{user_email}}\n           <p>Password: {{user_password}}\n           <p>If you have any questions please contact {{company_contact}} at {{company_phone}}.\n           <p>Thank you.</p>\n           <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `email_templates` (`torder`, `status`, `template_type`, `email_from`, `subject`, `body`, `created_at`, `updated_at`) VALUES (9, 'Default', 'New Estimate', 'nfor20@yahoo.com', '{{client_company}}: {{company_name}} Estimate: {{estimate_number}}', '<p>Dear {{client_contact}},</p>\n            <p>Thank you for your continued service with {{company_name}}, to download a PDF copy for your records, click the link below:</p>\n            <p><a href=\"{{estimate_url}}\">Estimate# {{estimate_number}}</a> </p>\n            <p>If you have any questions or comments please feel free to contact {{company_contact}} at {{company_phone}}.</p>\n            <p>Thanks,</p>\n            <p>{{company_signature}}</p>', '2019-01-03 19:07:44', '2019-01-03 19:07:44')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36mAccount Load (1.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 1, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 2, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 3, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mAccount Load (1.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 4, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 5, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 6, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36mAccount Load (1.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 7, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 8, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts`  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `company_email_templates` (`parent_type`, `template_id`, `created_at`, `updated_at`) VALUES ('Account', 9, '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `currencies`[0m
  [1m[35m (8.1ms)[0m  TRUNCATE currencies
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'USD', 'United States Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('€', 'EUR', 'Euro', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'GBP', 'British Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'AUD', 'Australian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'CAD', 'Canadian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('¥', 'JPY', 'Japanese Yen', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.إ', 'AED', 'United Arab Emirates Dirham', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('؋', 'AFN', 'Afghan Afghani', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('L', 'ALL', 'Albanian Lek', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('դր.', 'AMD', 'Armenian Dram', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ƒ', 'ANG', 'Netherlands Antillean Gulden', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Kz', 'AOA', 'Angolan Kwanza', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'ARS', 'Argentine Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ƒ', 'AWG', 'Aruban Florin', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₼', 'AZN', 'Azerbaijani Manat', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('КМ', 'BAM', 'Bosnia and Herzegovina Convertible Mark', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'BBD', 'Barbadian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('৳', 'BDT', 'Bangladeshi Taka', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('лв', 'BGN', 'Bulgarian Lev', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ب.د', 'BHD', 'Bahraini Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'BIF', 'Burundian Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'BMD', 'Bermudian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'BND', 'Brunei Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Bs.', 'BOB', 'Bolivian Boliviano', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('R$', 'BRL', 'Brazilian Real', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'BSD', 'Bahamian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Nu.', 'BTN', 'Bhutanese Ngultrum', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('P', 'BWP', 'Botswana Pula', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Br', 'BYR', 'Belarusian Ruble', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'BZD', 'Belize Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'CDF', 'Congolese Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'CHF', 'Swiss Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('UF', 'CLF', 'Unidad de Fomento', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'CLP', 'Chilean Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('¥', 'CNY', 'Chinese Renminbi Yuan', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'COP', 'Colombian Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₡', 'CRC', 'Costa Rican Colón', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'CUC', 'Cuban Convertible Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'CUP', 'Cuban Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'CVE', 'Cape Verdean Escudo', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Kč', 'CZK', 'Czech Koruna', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fdj', 'DJF', 'Djiboutian Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('kr', 'DKK', 'Danish Krone', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'DOP', 'Dominican Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.ج', 'DZD', 'Algerian Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ج.م', 'EGP', 'Egyptian Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Nfk', 'ERN', 'Eritrean Nakfa', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Br', 'ETB', 'Ethiopian Birr', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'FJD', 'Fijian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'FKP', 'Falkland Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ლ', 'GEL', 'Georgian Lari', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₵', 'GHS', 'Ghanaian Cedi', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'GIP', 'Gibraltar Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('D', 'GMD', 'Gambian Dalasi', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'GNF', 'Guinean Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Q', 'GTQ', 'Guatemalan Quetzal', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'GYD', 'Guyanese Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'HKD', 'Hong Kong Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('L', 'HNL', 'Honduran Lempira', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('kn', 'HRK', 'Croatian Kuna', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('G', 'HTG', 'Haitian Gourde', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Ft', 'HUF', 'Hungarian Forint', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Rp', 'IDR', 'Indonesian Rupiah', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₪', 'ILS', 'Israeli New Sheqel', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₹', 'INR', 'Indian Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ع.د', 'IQD', 'Iraqi Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('﷼', 'IRR', 'Iranian Rial', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('kr', 'ISK', 'Icelandic Króna', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'JMD', 'Jamaican Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.ا', 'JOD', 'Jordanian Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('KSh', 'KES', 'Kenyan Shilling', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('som', 'KGS', 'Kyrgyzstani Som', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('៛', 'KHR', 'Cambodian Riel', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'KMF', 'Comorian Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₩', 'KPW', 'North Korean Won', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₩', 'KRW', 'South Korean Won', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.ك', 'KWD', 'Kuwaiti Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'KYD', 'Cayman Islands Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('〒', 'KZT', 'Kazakhstani Tenge', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₭', 'LAK', 'Lao Kip', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ل.ل', 'LBP', 'Lebanese Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₨', 'LKR', 'Sri Lankan Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'LRD', 'Liberian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('L', 'LSL', 'Lesotho Loti', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Lt', 'LTL', 'Lithuanian Litas', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Ls', 'LVL', 'Latvian Lats', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ل.د', 'LYD', 'Libyan Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.م.', 'MAD', 'Moroccan Dirham', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('L', 'MDL', 'Moldovan Leu', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Ar', 'MGA', 'Malagasy Ariary', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ден', 'MKD', 'Macedonian Denar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('K', 'MMK', 'Myanmar Kyat', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₮', 'MNT', 'Mongolian Tögrög', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('P', 'MOP', 'Macanese Pataca', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('UM', 'MRO', 'Mauritanian Ouguiya', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₨', 'MUR', 'Mauritian Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('MVR', 'MVR', 'Maldivian Rufiyaa', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('MK', 'MWK', 'Malawian Kwacha', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'MXN', 'Mexican Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('RM', 'MYR', 'Malaysian Ringgit', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('MTn', 'MZN', 'Mozambican Metical', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'NAD', 'Namibian Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₦', 'NGN', 'Nigerian Naira', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('C$', 'NIO', 'Nicaraguan Córdoba', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('kr', 'NOK', 'Norwegian Krone', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₨', 'NPR', 'Nepalese Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'NZD', 'New Zealand Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ر.ع.', 'OMR', 'Omani Rial', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('B/.', 'PAB', 'Panamanian Balboa', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('S/.', 'PEN', 'Peruvian Nuevo Sol', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('K', 'PGK', 'Papua New Guinean Kina', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₱', 'PHP', 'Philippine Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₨', 'PKR', 'Pakistani Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('zł', 'PLN', 'Polish Złoty', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₲', 'PYG', 'Paraguayan Guaraní', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ر.ق', 'QAR', 'Qatari Riyal', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Lei', 'RON', 'Romanian Leu', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('РСД', 'RSD', 'Serbian Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₽', 'RUB', 'Russian Ruble', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('FRw', 'RWF', 'Rwandan Franc', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ر.س', 'SAR', 'Saudi Riyal', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'SBD', 'Solomon Islands Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₨', 'SCR', 'Seychellois Rupee', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'SDG', 'Sudanese Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('kr', 'SEK', 'Swedish Krona', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'SGD', 'Singapore Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'SHP', 'Saint Helenian Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Sk', 'SKK', 'Slovak Koruna', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Le', 'SLL', 'Sierra Leonean Leone', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Sh', 'SOS', 'Somali Shilling', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'SRD', 'Surinamese Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'SSP', 'South Sudanese Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Db', 'STD', 'São Tomé and Príncipe Dobra', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₡', 'SVC', 'Salvadoran Colón', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£S', 'SYP', 'Syrian Pound', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('E', 'SZL', 'Swazi Lilangeni', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('฿', 'THB', 'Thai Baht', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ЅМ', 'TJS', 'Tajikistani Somoni', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('T', 'TMT', 'Turkmenistani Manat', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('د.ت', 'TND', 'Tunisian Dinar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('T$', 'TOP', 'Tongan Paʻanga', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₺', 'TRY', 'Turkish Lira', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'TTD', 'Trinidad and Tobago Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'TWD', 'New Taiwan Dollar', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Sh', 'TZS', 'Tanzanian Shilling', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₴', 'UAH', 'Ukrainian Hryvnia', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('USh', 'UGX', 'Ugandan Shilling', '2019-01-03 19:07:45', '2019-01-03 19:07:45')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'UYU', 'Uruguayan Peso', '2019-01-03 19:07:45', '2019-01-03 19:07:45')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Bs F', 'VEF', 'Venezuelan Bolívar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (45.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₫', 'VND', 'Vietnamese Đồng', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Vt', 'VUV', 'Vanuatu Vatu', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('T', 'WST', 'Samoan Tala', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'XAF', 'Central African Cfa Franc', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'XCD', 'East Caribbean Dollar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'XOF', 'West African Cfa Franc', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('Fr', 'XPF', 'Cfp Franc', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('﷼', 'YER', 'Yemeni Rial', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('R', 'ZAR', 'South African Rand', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ZK', 'ZMK', 'Zambian Kwacha', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('ZK', 'ZMW', 'Zambian Kwacha', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('£', 'JEP', 'Jersey Pound', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('KR', 'EEK', 'Estonian Kroon', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (3.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₵', 'GHS', 'Ghanaian Cedi', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('₤', 'MTL', 'Maltese Lira', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('m', 'TMM', 'Turkmenistani Manat', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('¥', 'JPY', 'Japanese Yen', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'ZWD', 'Zimbabwean Dollar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'ZWL', 'Zimbabwean Dollar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'ZWN', 'Zimbabwean Dollar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `currencies` (`code`, `unit`, `title`, `created_at`, `updated_at`) VALUES ('$', 'ZWR', 'Zimbabwean Dollar', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mCurrency Load (1.5ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'USD'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (4.4ms)[0m  UPDATE `clients` SET `clients`.`currency_id` = 1 WHERE `clients`.`deleted_at` IS NULL AND `clients`.`currency_id` IS NULL
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `invoices` SET `invoices`.`currency_id` = 1 WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` IS NULL[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `recurring_profiles` SET `recurring_profiles`.`currency_id` = 1 WHERE `recurring_profiles`.`deleted_at` IS NULL AND `recurring_profiles`.`currency_id` IS NULL
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `estimates` SET `estimates`.`currency_id` = 1 WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`currency_id` IS NULL[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Advertising' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Advertising', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Truck Expenses' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Truck Expenses', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.4ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Contractors' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Contractors', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.6ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Education and Training' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Education and Training', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Employee Benefits' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Employee Benefits', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.2ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Meals and Entertainment' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Meals and Entertainment', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.4ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Office Expenses' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Office Expenses', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.4ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Professional Services' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Professional Services', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Rent or Lease' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Rent or Lease', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Supplies' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Supplies', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.2ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Travel' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Travel', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.3ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Utilities' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Utilities', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mExpenseCategory Load (0.5ms)[0m  SELECT  `expense_categories`.* FROM `expense_categories` WHERE `expense_categories`.`name` = 'Other Expenses' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `expense_categories` (`name`, `created_at`, `updated_at`) VALUES ('Other Expenses', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (2.3ms)[0m  DELETE FROM `roles`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `roles` (`name`, `created_at`, `updated_at`) VALUES ('admin', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`) VALUES ('manager', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `roles` (`name`, `created_at`, `updated_at`) VALUES ('staff', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `payment_terms`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `payment_terms` (`number_of_days`, `description`, `created_at`, `updated_at`) VALUES (10, '10 days', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `payment_terms` (`number_of_days`, `description`, `created_at`, `updated_at`) VALUES (7, 'Weekly', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `payment_terms` (`number_of_days`, `description`, `created_at`, `updated_at`) VALUES (30, 'Monthly', '2019-01-03 19:07:46', '2019-01-03 19:07:46')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `payment_terms` (`number_of_days`, `description`, `created_at`, `updated_at`) VALUES (0, 'Custom', '2019-01-03 19:07:46', '2019-01-03 19:07:46')[0m
  [1m[35m (0.8ms)[0m  COMMIT


Started GET "/" for 127.0.0.1 at 2019-01-03 14:08:39 -0500
Processing by Devise::SessionsController#new as HTML
  [1m[36m (3.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Redirected to http://localhost:3000/users/sign_up
Completed 302 Found in 31ms (ActiveRecord: 5.4ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-01-03 14:08:40 -0500
Processing by Devise::RegistrationsController#new as HTML
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` LIMIT 1
  Rendered devise/registrations/new.html.erb within layouts/login (354.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 11273ms (Views: 11169.4ms | ActiveRecord: 1.8ms)


Started POST "/en/users" for 127.0.0.1 at 2019-01-03 14:11:12 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "user"=>{"user_name"=>"Rajesh Madhu", "account"=>"Seyalfactory", "email"=>"Seyalfactory@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "btn_login"=>"", "locale"=>"en"}
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` WHERE `accounts`.`org_name` = 'Seyalfactory' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `accounts` (`org_name`, `created_at`, `updated_at`) VALUES ('Seyalfactory', '2019-01-03 19:11:13', '2019-01-03 19:11:13')[0m
  [1m[35m (323.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'seyalfactory@gmail.com' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'seyalfactory@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  Rendered devise/registrations/new.html.erb within layouts/login (14.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 2415ms (Views: 689.9ms | ActiveRecord: 402.6ms)
2019-01-03T14:11:21-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)


Started POST "/en/users" for 127.0.0.1 at 2019-01-03 14:11:25 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "user"=>{"user_name"=>"Rajesh Madhu", "account"=>"Seyalfactory", "email"=>"Seyalfactory@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "btn_login"=>"", "locale"=>"en"}
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` WHERE `accounts`.`org_name` = 'Seyalfactory' LIMIT 1[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'seyalfactory@gmail.com' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'seyalfactory@gmail.com' LIMIT 1
  [1m[36m (1.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE `users`.`authentication_token` = 'qHHQ9yHxTyZZNX9EyCKt'[0m
  [1m[35mSQL (4.7ms)[0m  INSERT INTO `users` (`user_name`, `email`, `password_salt`, `encrypted_password`, `confirmed_at`, `authentication_token`, `created_at`, `updated_at`) VALUES ('Rajesh Madhu', 'seyalfactory@gmail.com', 'b_z4MG-jjN9esUr-6j1T', 'f6b127341076f2471d53a830751f552c1c8e8ffc', '2019-01-03 19:11:25', 'qHHQ9yHxTyZZNX9EyCKt', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'date_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'date_format', '--- \"%Y-%m-%d\"\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.6ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'currency'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'currency', '--- \'On\'\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.9ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'records_per_page'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'records_per_page', '--- 9\n...\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.4ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'default_currency'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'default_currency', '--- USD\n...\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'side_nav_opened'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'side_nav_opened', '--- true\n...\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'index_page_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'index_page_format', '--- cart\n...\n', '2019-01-03 19:11:25', '2019-01-03 19:11:25')
  [1m[36mStaff Load (0.4ms)[0m  [1mSELECT  `staffs`.* FROM `staffs` WHERE `staffs`.`deleted_at` IS NULL AND `staffs`.`user_id` = 1 LIMIT 1[0m
  [1m[35mRole Load (2.2ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' AND `roles`.`resource_type` IS NULL AND `roles`.`resource_id` IS NULL  ORDER BY `roles`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users_roles` (`user_id`, `role_id`) VALUES (1, 1)[0m
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `account_users` (`user_id`, `account_id`) VALUES (1, 1)
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35mAccount Load (3.7ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mCompany Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `companies` (`company_name`, `account_id`, `created_at`, `updated_at`) VALUES ('Seyalfactory', 1, '2019-01-03 19:11:26', '2019-01-03 19:11:26')
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'seyalfactory@gmail.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `users` SET `current_company` = 1, `updated_at` = '2019-01-03 19:11:26' WHERE `users`.`id` = 1
  [1m[36mSQL (2.5ms)[0m  [1mUPDATE `roles` SET `roles`.`updated_at` = '2019-01-03 19:11:26' WHERE `roles`.`id` = 1[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE `company_email_templates` SET `company_email_templates`.`parent_id` = 1
Redirected to http://localhost:3000/en/dashboard
Completed 302 Found in 601ms (ActiveRecord: 126.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `sessions` WHERE `sessions`.`id` = 1
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:11:26 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mCurrency Load (1.2ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'USD'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 1
  [1m[36m (4.9ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=1) AND (company_id=1) GROUP BY month(invoice_date)[0m
  [1m[35m (3.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)
  [1m[36mInvoice Load (1.2ms)[0m  [1mSELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=1) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10[0m
  [1m[35mSQL (0.8ms)[0m  SELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100
  [1m[36mInvoice Load (4.6ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=1 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=1) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=1) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 1  [["currency_id", 1]]
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)[0m
  [1m[35mInvoice Load (1.4ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=1) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (2.4ms)
  Rendered dashboard/_widgets.html.erb (32.9ms)
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (2.8ms)
  Rendered dashboard/index.erb within layouts/application (45.3ms)
  [1m[36mCompany Load (6.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCurrency Load (2.5ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (45.0ms)
  Rendered layouts/_side_nav.html.erb (42.9ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.9ms)
Completed 200 OK in 650ms (Views: 370.2ms | ActiveRecord: 50.4ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:11:43 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (1.8ms)
  [1m[35mCurrency Load (3.2ms)[0m  SELECT `currencies`.* FROM `currencies`
  [1m[36mRailsSettings::ScopedSettings Load (0.9ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'language'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  Rendered import_data/_qb_connect.html.erb (0.7ms)
  Rendered settings/_basic_setting.html.erb (703.9ms)
  [1m[35mEmailTemplate Load (8.5ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (22.7ms)
  Rendered settings/index.html.erb within layouts/application (738.9ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (1.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (55.0ms)
  Rendered layouts/_side_nav.html.erb (29.8ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.8ms)
Completed 200 OK in 2159ms (Views: 965.8ms | ActiveRecord: 62.9ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 14:11:47 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[35mUser Load (1.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (3.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users`
  Rendered sub_users/_user.html.erb (8.4ms)
  [1m[36mRole Load (5.6ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (291.8ms)
  Rendered sub_users/settings_listing.html.erb (315.0ms)
Completed 200 OK in 373ms (Views: 303.3ms | ActiveRecord: 55.2ms)


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 14:11:48 -0500
Processing by CompaniesController#settings_listing as */*
  [1m[35mUser Load (5.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (9.0ms)[0m  [1mSELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered companies/_company.html.erb (3.0ms)
  Rendered companies/_settings_company_form.html.erb (23.7ms)
  Rendered companies/settings_listing.html.erb (62.7ms)
Completed 200 OK in 129ms (Views: 101.6ms | ActiveRecord: 17.4ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:11:49 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (3.2ms)
  [1m[35mCurrency Load (0.5ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered import_data/_qb_connect.html.erb (0.8ms)
  Rendered settings/_basic_setting.html.erb (56.5ms)
  [1m[36mEmailTemplate Load (3.9ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (7.7ms)
  Rendered settings/index.html.erb within layouts/application (82.7ms)
  [1m[35mCompany Load (6.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (2.7ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered layouts/_bulk_action_links.html.erb (1.2ms)
  Rendered layouts/_header.html.erb (28.2ms)
  Rendered layouts/_side_nav.html.erb (52.9ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.3ms)
Completed 200 OK in 380ms (Views: 356.4ms | ActiveRecord: 14.1ms)


Started POST "/settings" for 127.0.0.1 at 2019-01-03 14:12:04 -0500
Processing by SettingsController#create as JS
  Parameters: {"utf8"=>"✓", "multi_currency"=>"On", "side_nav_opened"=>"Open", "index_page_format"=>"table", "default_currency"=>"INR", "locale"=>"en", "date_format"=>"%Y-%m-%d", "records_per_page"=>"51", "commit"=>""}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (1.5ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'currency'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (0.4ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'side_nav_opened'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mRailsSettings::ScopedSettings Load (0.4ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'date_format'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mRailsSettings::ScopedSettings Load (0.5ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'records_per_page'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.9ms)[0m  UPDATE `settings` SET `value` = '--- \'51\'\n', `updated_at` = '2019-01-03 19:12:04' WHERE `settings`.`id` = 3
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mRailsSettings::ScopedSettings Load (0.4ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'language'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `settings` (`thing_type`, `thing_id`, `var`, `value`, `created_at`, `updated_at`) VALUES ('User', 1, 'language', '--- en\n...\n', '2019-01-03 19:12:04', '2019-01-03 19:12:04')[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (0.6ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'default_currency'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `settings` SET `value` = '--- INR\n...\n', `updated_at` = '2019-01-03 19:12:04' WHERE `settings`.`id` = 4
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mRailsSettings::ScopedSettings Load (1.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'index_page_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `settings` SET `value` = '--- table\n...\n', `updated_at` = '2019-01-03 19:12:04' WHERE `settings`.`id` = 6[0m
  [1m[35m (3.5ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered settings/create.js.erb (1.6ms)
Completed 200 OK in 195ms (Views: 11.6ms | ActiveRecord: 67.8ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:12:04 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (3.8ms)
  [1m[36mCurrency Load (0.6ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.4ms)
  Rendered settings/_basic_setting.html.erb (32.8ms)
  [1m[35mEmailTemplate Load (0.5ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (3.3ms)
  Rendered settings/index.html.erb within layouts/application (45.3ms)
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (12.4ms)
  Rendered layouts/_side_nav.html.erb (38.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.9ms)
Completed 200 OK in 186ms (Views: 173.5ms | ActiveRecord: 3.4ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 14:12:05 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[35mUser Load (3.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (4.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users`
  Rendered sub_users/_user.html.erb (2.7ms)
  [1m[36mRole Load (3.2ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (56.7ms)
  Rendered sub_users/settings_listing.html.erb (76.4ms)
Completed 200 OK in 155ms (Views: 76.0ms | ActiveRecord: 44.5ms)


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 14:12:05 -0500
Processing by CompaniesController#settings_listing as */*
  [1m[35mUser Load (0.9ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (8.6ms)[0m  [1mSELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCompany Load (1.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered companies/_company.html.erb (10.5ms)
  Rendered companies/_settings_company_form.html.erb (46.0ms)
  Rendered companies/settings_listing.html.erb (87.4ms)
Completed 200 OK in 190ms (Views: 99.1ms | ActiveRecord: 63.2ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:12:08 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (44.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (10.8ms)
  [1m[35mCurrency Load (54.6ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered import_data/_qb_connect.html.erb (0.7ms)
  Rendered settings/_basic_setting.html.erb (227.2ms)
  [1m[36mEmailTemplate Load (72.6ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (86.8ms)
  Rendered settings/index.html.erb within layouts/application (356.9ms)
  [1m[35mCompany Load (58.9ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (1.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (125.0ms)
  Rendered layouts/_side_nav.html.erb (146.3ms)
  Rendered layouts/_flash_messages.html.erb (3.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (9.0ms)
Completed 200 OK in 1063ms (Views: 737.3ms | ActiveRecord: 278.7ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:12:29 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (3.7ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (5.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (16.6ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (2.6ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mSQL (7.2ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mInvoice Load (4.5ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36m (66.8ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m  [["currency_id", 65]]
  [1m[35m (15.9ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)
  [1m[36mInvoice Load (2.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  Rendered dashboard/_recent_activity.html.erb (10.7ms)
  Rendered dashboard/_widgets.html.erb (191.7ms)
  [1m[35mInvoice Load (40.1ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  Rendered dashboard/_invoices_list.html.erb (45.0ms)
  Rendered dashboard/index.erb within layouts/application (266.2ms)
  [1m[35mCompany Load (2.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCurrency Load (0.7ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (37.6ms)
  Rendered layouts/_side_nav.html.erb (43.6ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.8ms)
Completed 200 OK in 1545ms (Views: 481.8ms | ActiveRecord: 381.4ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 14:12:31 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (5.2ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (4.2ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (1.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mClient Load (1.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mPayment Load (0.4ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL  [["company_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCurrency Load (0.7ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (42.7ms)
  Rendered clients/_filters.html.erb (3.8ms)
  Rendered clients/_table_view.html.erb (6.0ms)
  Rendered shared/_pagination.html.slim (70.8ms)
  Rendered clients/_clients_container.html.erb (80.7ms)
  Rendered clients/_bulk_actions.erb (0.9ms)
  Rendered clients/index.html.erb within layouts/application (136.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCurrency Load (0.5ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (20.6ms)
  Rendered layouts/_side_nav.html.erb (28.0ms)
  Rendered layouts/_flash_messages.html.erb (1.6ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.8ms)
Completed 200 OK in 444ms (Views: 304.6ms | ActiveRecord: 34.7ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:12:45 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (18.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (2.3ms)
  [1m[36mCurrency Load (8.3ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.3ms)
  Rendered settings/_basic_setting.html.erb (119.0ms)
  [1m[35mEmailTemplate Load (22.1ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (28.0ms)
  Rendered settings/index.html.erb within layouts/application (154.3ms)
  [1m[36mCompany Load (5.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (22.7ms)
  Rendered layouts/_side_nav.html.erb (39.6ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.3ms)
Completed 200 OK in 448ms (Views: 309.4ms | ActiveRecord: 97.1ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 14:12:48 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[35mUser Load (1.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users`
  Rendered sub_users/_user.html.erb (4.0ms)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (19.2ms)
  Rendered sub_users/settings_listing.html.erb (45.2ms)
Completed 200 OK in 117ms (Views: 50.0ms | ActiveRecord: 42.9ms)


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 14:12:48 -0500


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:12:57 -0500
Processing by CompaniesController#settings_listing as */*
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (5.7ms)[0m  SELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered settings/_setting_activity.html.erb (4.1ms)
  [1m[35mCurrency Load (2.1ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered companies/_company.html.erb (6.8ms)
  Rendered companies/_settings_company_form.html.erb (29.3ms)
  Rendered companies/settings_listing.html.erb (87.9ms)
Completed 200 OK in 5799ms (Views: 157.9ms | ActiveRecord: 79.2ms)
  Rendered import_data/_qb_connect.html.erb (0.8ms)
  Rendered settings/_basic_setting.html.erb (1172.8ms)
  [1m[36mEmailTemplate Load (0.9ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (14.6ms)
  Rendered settings/index.html.erb within layouts/application (1215.9ms)
  [1m[35mCompany Load (1.1ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered layouts/_bulk_action_links.html.erb (2.7ms)
  Rendered layouts/_header.html.erb (86.9ms)
  Rendered layouts/_side_nav.html.erb (33.8ms)
  Rendered layouts/_flash_messages.html.erb (2.6ms)
  Rendered layouts/_new_actions_buttons.html.erb (10.5ms)
Completed 200 OK in 7161ms (Views: 1612.3ms | ActiveRecord: 33.3ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:13:15 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (1.9ms)
  [1m[36mCurrency Load (13.6ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.7ms)
  Rendered settings/_basic_setting.html.erb (2075.3ms)
  [1m[35mEmailTemplate Load (0.8ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (15.1ms)
  Rendered settings/index.html.erb within layouts/application (2102.3ms)
  [1m[36mCompany Load (3.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered layouts/_bulk_action_links.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (39.0ms)
  Rendered layouts/_side_nav.html.erb (45.8ms)
  Rendered layouts/_flash_messages.html.erb (10.4ms)
  Rendered layouts/_new_actions_buttons.html.erb (11.3ms)
Completed 200 OK in 2356ms (Views: 2239.0ms | ActiveRecord: 71.8ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 14:13:19 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (8.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users`
  Rendered sub_users/_user.html.erb (9.0ms)
  [1m[36mRole Load (6.5ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (590.3ms)
  Rendered sub_users/settings_listing.html.erb (622.9ms)
Completed 200 OK in 701ms (Views: 575.2ms | ActiveRecord: 103.1ms)


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 14:13:19 -0500
Processing by CompaniesController#settings_listing as */*
  [1m[35mUser Load (2.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (2.1ms)[0m  [1mSELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered companies/_company.html.erb (2.5ms)
  Rendered companies/_settings_company_form.html.erb (21.3ms)
  Rendered companies/settings_listing.html.erb (37.7ms)
Completed 200 OK in 82ms (Views: 44.5ms | ActiveRecord: 17.3ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:13:20 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (3.7ms)
  [1m[35mCurrency Load (0.7ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered import_data/_qb_connect.html.erb (0.7ms)
  Rendered settings/_basic_setting.html.erb (90.0ms)
  [1m[36mEmailTemplate Load (4.9ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (9.6ms)
  Rendered settings/index.html.erb within layouts/application (118.6ms)
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered layouts/_bulk_action_links.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (22.9ms)
  Rendered layouts/_side_nav.html.erb (45.1ms)
  Rendered layouts/_flash_messages.html.erb (2.6ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.0ms)
Completed 200 OK in 389ms (Views: 326.8ms | ActiveRecord: 44.8ms)


Started POST "/settings" for 127.0.0.1 at 2019-01-03 14:13:43 -0500
Processing by SettingsController#create as JS
  Parameters: {"utf8"=>"✓", "side_nav_opened"=>"Open", "index_page_format"=>"table", "default_currency"=>"INR", "locale"=>"en", "date_format"=>"%d-%b-%Y", "records_per_page"=>"51", "commit"=>""}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (3.2ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'currency'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  UPDATE `settings` SET `value` = '--- \'Off\'\n', `updated_at` = '2019-01-03 19:13:43' WHERE `settings`.`id` = 2
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mRailsSettings::ScopedSettings Load (0.4ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'side_nav_opened'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mRailsSettings::ScopedSettings Load (0.9ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'date_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE `settings` SET `value` = '--- \"%d-%b-%Y\"\n', `updated_at` = '2019-01-03 19:13:43' WHERE `settings`.`id` = 1[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (0.4ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'records_per_page'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mRailsSettings::ScopedSettings Load (0.5ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'language'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mRailsSettings::ScopedSettings Load (0.6ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'default_currency'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (2.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mRailsSettings::ScopedSettings Load (0.4ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'index_page_format'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered settings/create.js.erb (1.8ms)
Completed 200 OK in 305ms (Views: 13.3ms | ActiveRecord: 71.0ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:13:43 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (0.8ms)
  [1m[36mCurrency Load (0.6ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.3ms)
  Rendered settings/_basic_setting.html.erb (50.9ms)
  [1m[35mEmailTemplate Load (0.5ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (3.3ms)
  Rendered settings/index.html.erb within layouts/application (59.1ms)
  [1m[36mCompany Load (1.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (1.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (8.2ms)
  Rendered layouts/_side_nav.html.erb (37.1ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_new_actions_buttons.html.erb (26.8ms)
Completed 200 OK in 227ms (Views: 215.9ms | ActiveRecord: 6.7ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 14:13:45 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (3.9ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users`[0m


  Rendered sub_users/_user.html.erb (5.3ms)
Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 14:13:45 -0500
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles`
  Rendered sub_users/_sub_user_form.html.erb (58.0ms)
  Rendered sub_users/settings_listing.html.erb (86.6ms)
Completed 200 OK in 212ms (Views: 94.7ms | ActiveRecord: 55.6ms)
Processing by CompaniesController#settings_listing as */*
  [1m[36mUser Load (4.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 14:13:48 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[35m (5.6ms)[0m  SELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCompany Load (1.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (8.6ms)
  [1m[35mCurrency Load (114.5ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered companies/_company.html.erb (161.6ms)
  Rendered import_data/_qb_connect.html.erb (2.1ms)
  Rendered settings/_basic_setting.html.erb (598.1ms)
  [1m[36mEmailTemplate Load (56.5ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (89.8ms)
  Rendered settings/index.html.erb within layouts/application (748.0ms)
  [1m[35mCompany Load (66.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (2.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (2.3ms)
  Rendered layouts/_header.html.erb (202.5ms)
  Rendered companies/_settings_company_form.html.erb (938.1ms)
  Rendered companies/settings_listing.html.erb (1693.2ms)
Completed 200 OK in 2078ms (Views: 1742.5ms | ActiveRecord: 64.2ms)
  Rendered layouts/_side_nav.html.erb (241.6ms)
  Rendered layouts/_flash_messages.html.erb (14.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (68.5ms)
Completed 200 OK in 1876ms (Views: 1460.2ms | ActiveRecord: 284.4ms)


Started GET "/en/items" for 127.0.0.1 at 2019-01-03 14:13:59 -0500
Processing by ItemsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (4.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.4ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (1.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (1.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mItem Load (0.7ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mItem Load (1.6ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mItem Load (1.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)
  [1m[36mItem Load (0.9ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (1.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCurrency Load (1.8ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered items/_item_activity.html.erb (124.0ms)
  [1m[36mTax Load (1.5ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35m (5.4ms)[0m  SELECT MAX(`items`.`quantity`) FROM `items`
  [1m[36m (0.4ms)[0m  [1mSELECT MAX(`items`.`unit_cost`) FROM `items`[0m
  Rendered items/_filters.html.erb (37.7ms)
  Rendered items/_table_view.html.erb (1.8ms)
  Rendered shared/_pagination.html.slim (72.1ms)
  Rendered items/_items_container.html.erb (78.0ms)
  Rendered items/_bulk_actions.erb (0.9ms)
  Rendered items/index.html.erb within layouts/application (251.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (8.2ms)
  Rendered layouts/_side_nav.html.erb (52.0ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.8ms)
Completed 200 OK in 966ms (Views: 404.1ms | ActiveRecord: 77.9ms)


Started GET "/en/items/new" for 127.0.0.1 at 2019-01-03 14:14:22 -0500
Processing by ItemsController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.0ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mTax Load (0.3ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35mAccount Load (1.6ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1[0m
  Rendered items/_form.html.erb (52.1ms)
  Rendered items/new.js.erb (55.9ms)
Completed 200 OK in 147ms (Views: 67.5ms | ActiveRecord: 37.2ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:14:47 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mCurrency Load (1.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (1.4ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65
  [1m[36m (2.3ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)[0m
  [1m[35m (3.6ms)[0m  SELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10[0m
  [1m[35mSQL (1.3ms)[0m  SELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100
  [1m[36mInvoice Load (5.3ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65  [["currency_id", 65]]
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (3.3ms)
  Rendered dashboard/_widgets.html.erb (9.1ms)
  [1m[36mInvoice Load (0.7ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (3.2ms)
  Rendered dashboard/index.erb within layouts/application (22.8ms)
  [1m[36mCompany Load (1.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (13.2ms)
  Rendered layouts/_side_nav.html.erb (55.1ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.8ms)
Completed 200 OK in 620ms (Views: 204.4ms | ActiveRecord: 67.5ms)


Started GET "/en/payments" for 127.0.0.1 at 2019-01-03 14:15:35 -0500
Processing by PaymentsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (114.9ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (67.3ms)[0m  SELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))
  [1m[36mPayment Load (87.5ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCurrency Load (98.8ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  Rendered payments/_payment_activity.html.erb (2482.3ms)
  [1m[36mAccount Load (102.9ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (151.7ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (209.8ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (197.8ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (87.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered payments/_filters.html.erb (3802.1ms)
  [1m[35m (182.6ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered payments/_table_view.html.erb (251.5ms)
  [1m[36m (195.6ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (424.4ms)
  Rendered payments/_payments_container.html.erb (700.1ms)
  Rendered payments/_bulk_actions.erb (1.6ms)
  Rendered payments/index.html.erb within layouts/application (7101.2ms)
  [1m[36mCompany Load (138.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (100.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (11.9ms)
  Rendered layouts/_header.html.erb (397.7ms)
  Rendered layouts/_side_nav.html.erb (136.3ms)
  Rendered layouts/_flash_messages.html.erb (23.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (17.5ms)
Completed 200 OK in 13259ms (Views: 7466.6ms | ActiveRecord: 2981.8ms)
2019-01-03T14:16:21-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:18:47 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (2.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (1.7ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (1.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mSQL (1.2ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mInvoice Load (2.2ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m  [["currency_id", 65]]
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  Rendered dashboard/_recent_activity.html.erb (8.7ms)
  Rendered dashboard/_widgets.html.erb (12.2ms)
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  Rendered dashboard/_invoices_list.html.erb (3.2ms)
  Rendered dashboard/index.erb within layouts/application (32.6ms)
  [1m[35mCompany Load (1.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (15.7ms)
  Rendered layouts/_side_nav.html.erb (57.4ms)
  Rendered layouts/_flash_messages.html.erb (2.4ms)
  Rendered layouts/_new_actions_buttons.html.erb (7.9ms)
Completed 200 OK in 480ms (Views: 276.1ms | ActiveRecord: 42.5ms)


Started GET "/en/invoices/unpaid_invoices" for 127.0.0.1 at 2019-01-03 14:18:54 -0500
Processing by InvoicesController#unpaid_invoices as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.9ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mInvoice Load (17.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `invoices`.`deleted_at` IS NULL AND ((status != 'paid' or status is null) ) AND (invoices.company_id=1)  ORDER BY created_at desc[0m
  Rendered invoices/_unpaid_invoices.erb (28.1ms)
  Rendered invoices/unpaid_invoices.js.erb (35.2ms)
Completed 200 OK in 255ms (Views: 175.4ms | ActiveRecord: 55.7ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 14:19:03 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.6ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (0.9ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.2ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.2ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (6.0ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (33.7ms)
  [1m[36mAccount Load (1.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered invoices/_filters.html.erb (35.1ms)
  [1m[35m (1.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered invoices/_table_view.html.erb (15.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (14.0ms)
  Rendered invoices/_invoices_container.html.erb (34.5ms)
  Rendered invoices/_bulk_actions.erb (2.7ms)
  Rendered invoices/index.html.erb within layouts/application (117.0ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (21.4ms)
  Rendered layouts/_side_nav.html.erb (42.5ms)
  Rendered layouts/_flash_messages.html.erb (2.3ms)
  Rendered layouts/_new_actions_buttons.html.erb (7.8ms)
Completed 200 OK in 382ms (Views: 270.1ms | ActiveRecord: 44.4ms)
2019-01-03T14:21:21-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)


Started GET "/en/estimates/new" for 127.0.0.1 at 2019-01-03 14:24:27 -0500
Processing by EstimatesController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (5.7ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (2.1ms)[0m  [1mSELECT MAX(`estimates`.`id`) FROM `estimates`[0m
  [1m[35mCompany Load (1.2ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (1.8ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mItem Load (0.6ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mEstimate Load (0.3ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.6ms)[0m  SELECT  `estimates`.* FROM `estimates` WHERE (estimates.company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.3ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL
  [1m[36mCurrency Load (1.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE (company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered estimates/_estimate_activity.html.erb (41.3ms)
  Rendered estimates/_form_action_links.html.erb (3.4ms)
  Rendered estimates/_form_heading.html.erb (8.7ms)
  Rendered estimates/_form_date_picker.html.erb (48.9ms)
  [1m[35mAccount Load (2.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCurrency Load (1.6ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.3ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mTax Load (0.3ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered estimates/_estimate_line_item_fields.erb (79.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered estimates/_estimate_line_item_fields.erb (33.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered estimates/_estimate_line_item_fields.erb (35.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered estimates/_estimate_line_item_fields.erb (50.6ms)
  [1m[35mTax Load (0.4ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered estimates/_estimate_form.html.erb (405.1ms)
  Rendered estimates/new.html.erb within layouts/application (464.5ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (11.1ms)
  Rendered layouts/_side_nav.html.erb (44.7ms)
  Rendered layouts/_flash_messages.html.erb (2.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (9.7ms)
Completed 200 OK in 1321ms (Views: 655.1ms | ActiveRecord: 68.7ms)


Started GET "/en/taxes/new" for 127.0.0.1 at 2019-01-03 14:24:42 -0500
Processing by TaxesController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  Rendered taxes/_form.html.erb (20.1ms)
  Rendered taxes/new.js.erb (22.4ms)
Completed 200 OK in 78ms (Views: 41.0ms | ActiveRecord: 1.5ms)
2019-01-03T14:26:22-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)
2019-01-03T14:31:22-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)
2019-01-03T14:36:23-0500: [Worker(delayed_job host:ubuntu pid:19900)] Error while reserving job: Access denied for user 'parallels'@'localhost' (using password: YES)
Access denied for user 'parallels'@'localhost' (using password: YES)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:41:17 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
Completed 401 Unauthorized in 208ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-01-03 14:41:20 -0500
Processing by Devise::SessionsController#new as HTML
  [1m[35m (3.8ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered devise/sessions/new.html.erb within layouts/login (114.8ms)
  Rendered layouts/_flash_messages.html.erb (2.7ms)
Completed 200 OK in 727ms (Views: 625.3ms | ActiveRecord: 10.4ms)


Started POST "/en/users/sign_in" for 127.0.0.1 at 2019-01-03 14:41:27 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"Seyalfactory@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "btn_login"=>"", "locale"=>"en"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`email` = 'seyalfactory@gmail.com'  ORDER BY `users`.`id` ASC LIMIT 1
Redirected to http://localhost:3000/en/dashboard
Completed 302 Found in 260ms (ActiveRecord: 26.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  DELETE FROM `sessions` WHERE `sessions`.`id` = 3
  [1m[36m (75.7ms)[0m  [1mCOMMIT[0m


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:41:27 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mCurrency Load (4.3ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (4.8ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65
  [1m[36m (4.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)[0m
  [1m[35m (6.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10[0m
  [1m[35mSQL (5.5ms)[0m  SELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100
  [1m[36mInvoice Load (1.5ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65  [["currency_id", 65]]
  [1m[36m (12.6ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (12.3ms)
  Rendered dashboard/_widgets.html.erb (19.5ms)
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (15.3ms)
  Rendered dashboard/index.erb within layouts/application (62.0ms)
  [1m[36mCompany Load (4.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (1.5ms)
  Rendered layouts/_header.html.erb (50.8ms)
  Rendered layouts/_side_nav.html.erb (76.2ms)
  Rendered layouts/_flash_messages.html.erb (6.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (14.7ms)
Completed 200 OK in 906ms (Views: 342.2ms | ActiveRecord: 49.4ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 14:43:17 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (1.8ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (1.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mSQL (1.9ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mInvoice Load (2.4ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m  [["currency_id", 65]]
  [1m[35m (0.4ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  Rendered dashboard/_recent_activity.html.erb (2.2ms)
  Rendered dashboard/_widgets.html.erb (39.5ms)
  [1m[35mInvoice Load (0.5ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  Rendered dashboard/_invoices_list.html.erb (3.1ms)
  Rendered dashboard/index.erb within layouts/application (54.8ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (66.2ms)
  Rendered layouts/_side_nav.html.erb (32.2ms)
  Rendered layouts/_flash_messages.html.erb (2.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (10.9ms)
Completed 200 OK in 1565ms (Views: 985.0ms | ActiveRecord: 55.5ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 14:44:15 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (19.1ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mInvoice Load (1.8ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (4.7ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (4.9ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (0.6ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (53.4ms)
  [1m[35mAccount Load (13.9ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (1.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices`
  Rendered invoices/_filters.html.erb (259.0ms)
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered invoices/_table_view.html.erb (8.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (26.7ms)
  Rendered invoices/_invoices_container.html.erb (38.1ms)
  Rendered invoices/_bulk_actions.erb (2.4ms)
  Rendered invoices/index.html.erb within layouts/application (365.8ms)
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (1.6ms)
  Rendered layouts/_header.html.erb (11.7ms)
  Rendered layouts/_side_nav.html.erb (15.2ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.6ms)
Completed 200 OK in 2881ms (Views: 2101.0ms | ActiveRecord: 135.0ms)


Started GET "/en/payments" for 127.0.0.1 at 2019-01-03 14:44:50 -0500
Processing by PaymentsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (4.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (1.9ms)[0m  SELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))
  [1m[36mPayment Load (1.6ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCurrency Load (0.5ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  Rendered payments/_payment_activity.html.erb (87.6ms)
  [1m[36mAccount Load (5.6ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (1.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered payments/_filters.html.erb (23.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered payments/_table_view.html.erb (5.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (6.8ms)
  Rendered payments/_payments_container.html.erb (15.7ms)
  Rendered payments/_bulk_actions.erb (0.4ms)
  Rendered payments/index.html.erb within layouts/application (135.0ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (6.8ms)
  Rendered layouts/_side_nav.html.erb (11.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.9ms)
Completed 200 OK in 254ms (Views: 191.8ms | ActiveRecord: 25.9ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 14:45:15 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mPayment Load (0.4ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL  [["company_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (2.7ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (33.2ms)
  Rendered clients/_filters.html.erb (1.5ms)
  Rendered clients/_table_view.html.erb (23.6ms)
  Rendered shared/_pagination.html.slim (3.9ms)
  Rendered clients/_clients_container.html.erb (32.7ms)
  Rendered clients/_bulk_actions.erb (1.1ms)
  Rendered clients/index.html.erb within layouts/application (78.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (8.0ms)
  Rendered layouts/_side_nav.html.erb (23.2ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.5ms)
Completed 200 OK in 263ms (Views: 187.9ms | ActiveRecord: 11.1ms)


Started GET "/en/clients/new" for 127.0.0.1 at 2019-01-03 14:45:19 -0500
Processing by ClientsController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (2.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)[0m
  [1m[35m (1.5ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND invoice_id in (NULL))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (NULL))
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (NULL))[0m
  Rendered clients/_client_contact_fields.erb (8.3ms)
  Rendered clients/_client_contact_fields.erb (10.8ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1[0m
  [1m[35mCurrency Load (2.8ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered clients/_client_contact_details.erb (34.3ms)
  Rendered clients/_client_form_popup.html.erb (145.5ms)
  Rendered clients/new.js.erb (149.3ms)
Completed 200 OK in 215ms (Views: 147.3ms | ActiveRecord: 21.7ms)


Started GET "/en/items" for 127.0.0.1 at 2019-01-03 14:45:55 -0500
Processing by ItemsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.0ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (3.2ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCurrency Load (0.3ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered items/_item_activity.html.erb (29.3ms)
  [1m[35mTax Load (1.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36m (1.9ms)[0m  [1mSELECT MAX(`items`.`quantity`) FROM `items`[0m
  [1m[35m (0.2ms)[0m  SELECT MAX(`items`.`unit_cost`) FROM `items`
  Rendered items/_filters.html.erb (25.0ms)
  Rendered items/_table_view.html.erb (1.7ms)
  Rendered shared/_pagination.html.slim (2.7ms)
  Rendered items/_items_container.html.erb (7.7ms)
  Rendered items/_bulk_actions.erb (0.9ms)
  Rendered items/index.html.erb within layouts/application (70.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (7.2ms)
  Rendered layouts/_side_nav.html.erb (23.7ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.7ms)
Completed 200 OK in 261ms (Views: 174.5ms | ActiveRecord: 28.6ms)


Started GET "/en/taxes" for 127.0.0.1 at 2019-01-03 14:45:58 -0500
Processing by TaxesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (3.0ms)[0m  [1mSELECT COUNT(*) FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND (`taxes`.`archived_at` IS NOT NULL) AND (`taxes`.`archive_number` IS NOT NULL)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `taxes` WHERE (`taxes`.`deleted_at` IS NOT NULL)[0m
  Rendered taxes/_tax_activity.html.erb (9.3ms)
  Rendered taxes/_filters.html.erb (2.4ms)
  [1m[35m (2.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL LIMIT 51 OFFSET 0) subquery_for_count
  Rendered taxes/_table_view.html.erb (7.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (4.9ms)
  Rendered taxes/_taxes_container.html.erb (14.2ms)
  Rendered taxes/_bulk_actions.erb (0.9ms)
  Rendered taxes/index.html.erb within layouts/application (35.2ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (7.5ms)
  Rendered layouts/_side_nav.html.erb (18.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.1ms)
Completed 200 OK in 136ms (Views: 109.2ms | ActiveRecord: 8.5ms)


Started GET "/en/reports/payments_collected" for 127.0.0.1 at 2019-01-03 14:46:02 -0500
Processing by ReportsController#reports as HTML
  Parameters: {"locale"=>"en", "report_name"=>"payments_collected"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
--> in reports_controller#report... {"controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"payments_collected"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[35mPayment Load (1.9ms)[0m  SELECT payments.id as payment_id,
        invoices.invoice_number,
        invoices.id as invoice_id,
        IFNULL(invoices.currency_id,0) as currency_id,
        IFNULL(currencies.unit,'USD') as currency_code,
        clients.organization_name as client_name,
        clients.id as client_id,
        payments.payment_type,
        payments.payment_method,
        payments.notes,
        payments.payment_amount,
        payments.created_at FROM `payments` INNER JOIN `companies` ON `companies`.`id` = `payments`.`company_id` AND `companies`.`deleted_at` IS NULL INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND (payments.company_id = 1)
  [1m[36mPayment Load (2.2ms)[0m  [1mSELECT payments.id as payment_id,
        concat('credit-',payments.id) as invoice_number,
        '-' as invoice_id,
        clients.organization_name as client_name,
        clients.id as client_id,
        IFNULL(invoices.currency_id,0) as currency_id,
        IFNULL(currencies.unit,'USD') as currency_code,
        payments.payment_type,
        payments.payment_method,
        payments.notes,
        payments.payment_amount,
        payments.created_at FROM `payments` INNER JOIN `companies` ON `companies`.`id` = `payments`.`company_id` AND `companies`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` WHERE `payments`.`deleted_at` IS NULL AND (payments.payment_type = 'credit') AND (`payments`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND (payments.company_id = 1)[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mInvoice Load (3.3ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered reports/_report_activity.html.erb (14.2ms)
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  Rendered reports/criteria_partials/_payments_collected.html.erb (12.6ms)
  Rendered reports/_criteria_controls.html.erb (15.0ms)
  Rendered reports/report_partials/_format_links.html.erb (5.6ms)
  Rendered reports/report_partials/_payments_collected.html.erb (10.5ms)
  Rendered reports/_report_body.html.erb (12.3ms)
  Rendered reports/reports.html.erb within layouts/application (46.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (7.4ms)
  Rendered layouts/_side_nav.html.erb (27.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.7ms)
Completed 200 OK in 283ms (Views: 173.4ms | ActiveRecord: 38.4ms)


Started GET "/en/reports/revenue_by_client" for 127.0.0.1 at 2019-01-03 14:46:37 -0500
Processing by ReportsController#reports as HTML
  Parameters: {"locale"=>"en", "report_name"=>"revenue_by_client"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
--> in reports_controller#report... {"controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"revenue_by_client"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[35mPayment Load (6.4ms)[0m  
                SELECT case when c.organization_name = '' then CONCAT(c.first_name,' ',c.last_name) else c.organization_name end as organization_name, SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 1 THEN i.invoice_total ELSE NULL END) AS January, 
SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 2 THEN i.invoice_total ELSE NULL END) AS February, 
SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 3 THEN i.invoice_total ELSE NULL END) AS March,
                SUM(i.invoice_total) AS client_total,
                IFNULL(cr.unit,'USD') AS currency_code,
                IFNULL(i.currency_id,0) AS currency_id
                FROM invoices i INNER JOIN clients c ON i.client_id = c.id INNER JOIN currencies cr ON i.currency_id = cr.id
                WHERE YEAR(IFNULL(i.due_date, i.invoice_date)) = 2019
                      AND MONTH(IFNULL(i.due_date, i.invoice_date)) >= 1 AND MONTH(IFNULL(i.due_date, i.invoice_date)) <= 3
                      AND i.status <> 'draft'
                      AND i.deleted_at IS NULL
                      AND i.company_id = 1
                      
					      GROUP BY c.organization_name, c.id
              
  [1m[36mCurrency Load (0.5ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mClient Load (0.2ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mInvoice Load (3.6ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered reports/_report_activity.html.erb (11.6ms)
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  Rendered reports/criteria_partials/_revenue_by_client.html.erb (14.4ms)
  Rendered reports/_criteria_controls.html.erb (15.9ms)
  Rendered reports/report_partials/_format_links.html.erb (1.2ms)
  Rendered reports/report_partials/_revenue_by_client.html.erb (5.6ms)
  Rendered reports/_report_body.html.erb (7.4ms)
  Rendered reports/reports.html.erb within layouts/application (38.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (10.7ms)
  Rendered layouts/_side_nav.html.erb (29.8ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.8ms)
Completed 200 OK in 232ms (Views: 158.6ms | ActiveRecord: 40.7ms)


Started GET "/en/reports/revenue_by_client.pdf?criteria%5Bcurrent_company%5D=1" for 127.0.0.1 at 2019-01-03 14:46:44 -0500
Processing by ReportsController#reports as PDF
  Parameters: {"criteria"=>{"current_company"=>"1"}, "locale"=>"en", "report_name"=>"revenue_by_client"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
--> in reports_controller#report... {"criteria"=>{"current_company"=>"1"}, "controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"revenue_by_client", "format"=>"pdf"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[36mPayment Load (5.0ms)[0m  [1m
                SELECT case when c.organization_name = '' then CONCAT(c.first_name,' ',c.last_name) else c.organization_name end as organization_name, SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 1 THEN i.invoice_total ELSE NULL END) AS January, 
SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 2 THEN i.invoice_total ELSE NULL END) AS February, 
SUM(CASE WHEN MONTH(IFNULL(i.due_date, i.invoice_date)) = 3 THEN i.invoice_total ELSE NULL END) AS March,
                SUM(i.invoice_total) AS client_total,
                IFNULL(cr.unit,'USD') AS currency_code,
                IFNULL(i.currency_id,0) AS currency_id
                FROM invoices i INNER JOIN clients c ON i.client_id = c.id INNER JOIN currencies cr ON i.currency_id = cr.id
                WHERE YEAR(IFNULL(i.due_date, i.invoice_date)) = 2019
                      AND MONTH(IFNULL(i.due_date, i.invoice_date)) >= 1 AND MONTH(IFNULL(i.due_date, i.invoice_date)) <= 3
                      AND i.status <> 'draft'
                      AND i.deleted_at IS NULL
                      AND i.company_id = 1
                      
					      GROUP BY c.organization_name, c.id
              [0m
  [1m[35mCurrency Load (0.7ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mInvoice Load (3.3ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
***************WICKED***************
  Rendered reports/report_partials/_format_links.html.erb (0.7ms)
  Rendered reports/report_partials/_revenue_by_client.html.erb (4.2ms)
  Rendered reports/_report_body.html.erb (7.4ms)
  Rendered reports/reports.html.erb within layouts/pdf_mode.html.erb (13.3ms)
  Rendered text template (0.0ms)
Sent data revenue_by_client_2019-01-03.pdf (133.6ms)
Completed 200 OK in 2676ms (Views: 132.8ms | ActiveRecord: 35.7ms)


Started GET "/en/reports/item_sales" for 127.0.0.1 at 2019-01-03 14:46:58 -0500
Processing by ReportsController#reports as HTML
  Parameters: {"locale"=>"en", "report_name"=>"item_sales"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
--> in reports_controller#report... {"controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"item_sales"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[36mInvoice Load (7.4ms)[0m  [1mSELECT 
                      invoices.invoice_number as invoice_number,
                      invoices.id as invoice_id,
                      items.item_name as item_name,
                      clients.organization_name as client_name,
                      clients.id as client_id,
                      sum(invoice_line_items.item_quantity) as item_quantity,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity) as total_amount,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity * (case when invoices.discount_type = '%' then abs(IFNULL(invoices.discount_percentage,0)) else abs(IFNULL(invoices.discount_percentage,0)) * 100.0 / invoices.sub_total end / 100.0)) as discount_amount,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity -  (invoice_line_items.item_unit_cost * invoice_line_items.item_quantity * (case when invoices.discount_type = '%' then abs(IFNULL(invoices.discount_percentage,0)) else abs(IFNULL(invoices.discount_percentage,0)) * 100.0 / invoices.sub_total end / 100.0))) as net_total,
                      IFNULL(invoices.currency_id,0) as currency_id,
                      IFNULL(currencies.unit,'USD') as currency_code
                        FROM `invoices` INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `invoice_line_items` ON `invoice_line_items`.`invoice_id` = `invoices`.`id` AND `invoice_line_items`.`deleted_at` IS NULL INNER JOIN `items` ON `items`.`id` = `invoice_line_items`.`item_id` AND `items`.`deleted_at` IS NULL WHERE `invoices`.`deleted_at` IS NULL AND (`invoice_line_items`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND `invoice_line_items`.`deleted_at` IS NULL AND `items`.`deleted_at` IS NULL AND (invoices.company_id = 1) GROUP BY items.item_name,currency_id, invoice_id, client_id[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mClient Load (2.2ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mInvoice Load (2.2ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered reports/_report_activity.html.erb (15.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mAccount Load (3.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mItem Load (0.7ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  Rendered reports/criteria_partials/_item_sales.html.erb (38.6ms)
  Rendered reports/_criteria_controls.html.erb (40.3ms)
  Rendered reports/report_partials/_format_links.html.erb (1.3ms)
  Rendered reports/report_partials/_item_sales.html.erb (11.1ms)
  Rendered reports/_report_body.html.erb (12.5ms)
  Rendered reports/reports.html.erb within layouts/application (74.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_side_nav.html.erb (35.3ms)
  Rendered layouts/_flash_messages.html.erb (2.3ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.9ms)
Completed 200 OK in 332ms (Views: 212.9ms | ActiveRecord: 58.2ms)


Started GET "/en/reports/item_sales.pdf?criteria%5Bcurrent_company%5D=1" for 127.0.0.1 at 2019-01-03 14:47:05 -0500
Processing by ReportsController#reports as PDF
  Parameters: {"criteria"=>{"current_company"=>"1"}, "locale"=>"en", "report_name"=>"item_sales"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
--> in reports_controller#report... {"criteria"=>{"current_company"=>"1"}, "controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"item_sales", "format"=>"pdf"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[35mInvoice Load (4.8ms)[0m  SELECT 
                      invoices.invoice_number as invoice_number,
                      invoices.id as invoice_id,
                      items.item_name as item_name,
                      clients.organization_name as client_name,
                      clients.id as client_id,
                      sum(invoice_line_items.item_quantity) as item_quantity,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity) as total_amount,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity * (case when invoices.discount_type = '%' then abs(IFNULL(invoices.discount_percentage,0)) else abs(IFNULL(invoices.discount_percentage,0)) * 100.0 / invoices.sub_total end / 100.0)) as discount_amount,
                      sum(invoice_line_items.item_unit_cost * invoice_line_items.item_quantity -  (invoice_line_items.item_unit_cost * invoice_line_items.item_quantity * (case when invoices.discount_type = '%' then abs(IFNULL(invoices.discount_percentage,0)) else abs(IFNULL(invoices.discount_percentage,0)) * 100.0 / invoices.sub_total end / 100.0))) as net_total,
                      IFNULL(invoices.currency_id,0) as currency_id,
                      IFNULL(currencies.unit,'USD') as currency_code
                        FROM `invoices` INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `invoice_line_items` ON `invoice_line_items`.`invoice_id` = `invoices`.`id` AND `invoice_line_items`.`deleted_at` IS NULL INNER JOIN `items` ON `items`.`id` = `invoice_line_items`.`item_id` AND `items`.`deleted_at` IS NULL WHERE `invoices`.`deleted_at` IS NULL AND (`invoice_line_items`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND `invoice_line_items`.`deleted_at` IS NULL AND `items`.`deleted_at` IS NULL AND (invoices.company_id = 1) GROUP BY items.item_name,currency_id, invoice_id, client_id
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mInvoice Load (0.6ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
***************WICKED***************
  Rendered reports/report_partials/_format_links.html.erb (0.1ms)
  Rendered reports/report_partials/_item_sales.html.erb (7.1ms)
  Rendered reports/_report_body.html.erb (8.7ms)
  Rendered reports/reports.html.erb within layouts/pdf_mode.html.erb (11.8ms)
  Rendered text template (0.0ms)
Sent data item_sales_2019-01-03.pdf (4.0ms)
Completed 200 OK in 1966ms (Views: 3.0ms | ActiveRecord: 28.8ms)


Started GET "/en/reports/aged_accounts_receivable" for 127.0.0.1 at 2019-01-03 15:12:39 -0500
Processing by ReportsController#reports as HTML
  Parameters: {"locale"=>"en", "report_name"=>"aged_accounts_receivable"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
--> in reports_controller#report... {"controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"aged_accounts_receivable"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[35mInvoice Load (5.6ms)[0m            SELECT aged.client_name,aged.currency_id,aged.currency_code,
            SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
            SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
            SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
            SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
            0 AS client_total
          FROM (
            SELECT
              case when clients.organization_name = '' then CONCAT(clients.first_name,' ',clients.last_name) else clients.organization_name  end AS client_name,
              invoices.invoice_total,
              IFNULL(SUM(payments.payment_amount), 0) payment_received,
              DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
              invoices.`status`,
              IFNULL(currencies.unit,'USD') as currency_code,
              IFNULL(invoices.currency_id,0) as currency_id,
              invoices.id as id
            FROM `invoices`
              LEFT JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id`
              INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
              LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
            WHERE
                            (`invoices`.`deleted_at` IS NULL)
              AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
              AND (invoices.`status` != "paid")
              
        AND invoices.company_id = 1

            GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
          ) AS aged
          GROUP BY aged.client_name,aged.currency_id

  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mInvoice Load (0.6ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered reports/_report_activity.html.erb (26.3ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  Rendered reports/criteria_partials/_aged_accounts_receivable.html.erb (33.5ms)
  Rendered reports/_criteria_controls.html.erb (35.3ms)
  Rendered reports/report_partials/_format_links.html.erb (7.5ms)
  Rendered reports/report_partials/_aged_accounts_receivable.html.erb (54.8ms)
  Rendered reports/_report_body.html.erb (55.8ms)
  Rendered reports/reports.html.erb within layouts/application (125.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.9ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (17.2ms)
  Rendered layouts/_side_nav.html.erb (64.1ms)
  Rendered layouts/_flash_messages.html.erb (3.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (17.4ms)
Completed 200 OK in 550ms (Views: 469.4ms | ActiveRecord: 31.1ms)


Started GET "/en/help" for 127.0.0.1 at 2019-01-03 15:12:49 -0500
Processing by HelpController#index as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered help/_index_popup.html.erb (2.4ms)
  Rendered help/index.js.erb (8.1ms)
Completed 200 OK in 54ms (Views: 34.1ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2019-01-03 15:37:14 -0500
Processing by Devise::SessionsController#new as HTML
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered devise/sessions/new.html.erb within layouts/login (326.0ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 1240ms (Views: 1137.9ms | ActiveRecord: 24.1ms)


Started POST "/en/users/sign_in" for 127.0.0.1 at 2019-01-03 15:37:18 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"Seyalfactory@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "btn_login"=>"", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'seyalfactory@gmail.com'  ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/en/dashboard
Completed 302 Found in 91ms (ActiveRecord: 26.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.3ms)[0m  [1mDELETE FROM `sessions` WHERE `sessions`.`id` = 5[0m
  [1m[35m (1.6ms)[0m  COMMIT


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 15:37:18 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (2.7ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (3.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (3.1ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (2.5ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (-1)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mSQL (4.4ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mInvoice Load (3.4ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m  [["currency_id", 65]]
  [1m[35m (0.4ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (-1)) AND (company_id=1)
  [1m[36mInvoice Load (2.8ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  Rendered dashboard/_recent_activity.html.erb (2.0ms)
  Rendered dashboard/_widgets.html.erb (13.2ms)
  [1m[35mInvoice Load (0.4ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  Rendered dashboard/_invoices_list.html.erb (2.7ms)
  Rendered dashboard/index.erb within layouts/application (23.1ms)
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (1.3ms)
  Rendered layouts/_header.html.erb (62.2ms)
  Rendered layouts/_side_nav.html.erb (27.8ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.2ms)
Completed 200 OK in 441ms (Views: 181.3ms | ActiveRecord: 44.7ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:37:26 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (1.9ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (4.9ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (22.6ms)
  [1m[36mAccount Load (2.3ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered invoices/_filters.html.erb (60.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered invoices/_table_view.html.erb (4.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (18.7ms)
  Rendered invoices/_invoices_container.html.erb (30.8ms)
  Rendered invoices/_bulk_actions.erb (1.4ms)
  Rendered invoices/index.html.erb within layouts/application (122.2ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_side_nav.html.erb (27.6ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.7ms)
Completed 200 OK in 277ms (Views: 180.6ms | ActiveRecord: 30.5ms)


Started GET "/en/estimates" for 127.0.0.1 at 2019-01-03 15:37:28 -0500
Processing by EstimatesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mEstimate Load (1.5ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.3ms)[0m  SELECT  `estimates`.* FROM `estimates` WHERE (estimates.company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.2ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL
  [1m[36mCurrency Load (0.3ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE (company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered estimates/_estimate_activity.html.erb (13.4ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates`
  Rendered estimates/_filters.html.erb (18.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered estimates/_table_view.html.erb (6.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (4.9ms)
  Rendered estimates/_estimates_container.html.erb (14.4ms)
  Rendered estimates/_bulk_actions.html.erb (1.3ms)
  Rendered estimates/index.html.erb within layouts/application (54.7ms)
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_side_nav.html.erb (12.6ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.1ms)
Completed 200 OK in 191ms (Views: 115.5ms | ActiveRecord: 18.3ms)


Started GET "/en/projects" for 127.0.0.1 at 2019-01-03 15:37:30 -0500
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'staff') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'staff') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (4.2ms)[0m  SELECT COUNT(*) FROM `projects` WHERE `projects`.`deleted_at` IS NULL AND (company_id IN(1)) AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL
  [1m[36m (1.5ms)[0m  [1mSELECT COUNT(*) FROM `projects` WHERE `projects`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`projects`.`archived_at` IS NOT NULL) AND (`projects`.`archive_number` IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `projects` WHERE (company_id IN(1)) AND (`projects`.`deleted_at` IS NOT NULL)
  Rendered projects/_project_activity.html.erb (14.8ms)
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (1.3ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL
  [1m[36mStaff Load (0.4ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m
  Rendered projects/_filters.html.erb (49.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered projects/_table_view.html.erb (15.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (4.7ms)
  Rendered projects/_projects_container.html.erb (22.5ms)
  Rendered projects/_bulk_actions.html.erb (1.4ms)
  Rendered projects/index.html.erb within layouts/application (98.7ms)
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_side_nav.html.erb (11.4ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.0ms)
Completed 200 OK in 235ms (Views: 154.7ms | ActiveRecord: 22.2ms)


Started GET "/en/payments" for 127.0.0.1 at 2019-01-03 15:37:33 -0500
Processing by PaymentsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))
  [1m[36mCurrency Load (0.5ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  Rendered payments/_payment_activity.html.erb (81.0ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (1.1ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices`
  Rendered payments/_filters.html.erb (16.6ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered payments/_table_view.html.erb (4.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (6.8ms)
  Rendered payments/_payments_container.html.erb (14.3ms)
  Rendered payments/_bulk_actions.erb (0.5ms)
  Rendered payments/index.html.erb within layouts/application (121.8ms)
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (6.2ms)
  Rendered layouts/_side_nav.html.erb (12.7ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.4ms)
Completed 200 OK in 213ms (Views: 183.7ms | ActiveRecord: 7.9ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 15:37:36 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (1.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL  [["company_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (23.5ms)
  Rendered clients/_filters.html.erb (1.8ms)
  Rendered clients/_table_view.html.erb (2.0ms)
  Rendered shared/_pagination.html.slim (2.5ms)
  Rendered clients/_clients_container.html.erb (7.2ms)
  Rendered clients/_bulk_actions.erb (1.2ms)
  Rendered clients/index.html.erb within layouts/application (41.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.8ms)
  Rendered layouts/_side_nav.html.erb (11.7ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.2ms)
Completed 200 OK in 167ms (Views: 109.9ms | ActiveRecord: 7.7ms)


Started GET "/en/items" for 127.0.0.1 at 2019-01-03 15:37:39 -0500
Processing by ItemsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (1.6ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mItem Load (0.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCurrency Load (0.5ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`archived_at` IS NOT NULL) AND (`items`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND (`items`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered items/_item_activity.html.erb (23.4ms)
  [1m[36mTax Load (0.9ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35m (3.4ms)[0m  SELECT MAX(`items`.`quantity`) FROM `items`
  [1m[36m (0.5ms)[0m  [1mSELECT MAX(`items`.`unit_cost`) FROM `items`[0m
  Rendered items/_filters.html.erb (28.3ms)
  Rendered items/_table_view.html.erb (1.6ms)
  Rendered shared/_pagination.html.slim (2.0ms)
  Rendered items/_items_container.html.erb (6.4ms)
  Rendered items/_bulk_actions.erb (0.8ms)
  Rendered items/index.html.erb within layouts/application (66.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (6.2ms)
  Rendered layouts/_side_nav.html.erb (11.4ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (2.8ms)
Completed 200 OK in 195ms (Views: 116.2ms | ActiveRecord: 19.0ms)


Started GET "/en/clients/new" for 127.0.0.1 at 2019-01-03 15:37:45 -0500
Processing by ClientsController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (1.2ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)
  [1m[36m (1.1ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND invoice_id in (NULL))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (NULL))[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (NULL))
  Rendered clients/_client_contact_fields.erb (7.0ms)
  Rendered clients/_client_contact_fields.erb (7.1ms)
  [1m[36mAccount Load (2.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1
  [1m[36mCurrency Load (1.4ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered clients/_client_contact_details.erb (32.2ms)
  Rendered clients/_client_form_popup.html.erb (155.3ms)
  Rendered clients/new.js.erb (159.4ms)
Completed 200 OK in 205ms (Views: 159.2ms | ActiveRecord: 12.0ms)


Started POST "/en/clients" for 127.0.0.1 at 2019-01-03 15:38:42 -0500
Processing by ClientsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "commit"=>"Create Client", "client"=>{"organization_name"=>" some company", "first_name"=>"Rajesh", "last_name"=>"Madhu", "email"=>"sdasda@asd.com", "mobile_number"=>"", "business_phone"=>"", "client_contacts_attributes"=>{"1546547892532"=>{"first_name"=>"", "last_name"=>"", "email"=>"", "home_phone"=>"", "mobile_number"=>"", "_destroy"=>"false"}}, "city"=>"", "province_state"=>"", "postal_zip_code"=>"[FILTERED]", "fax"=>"", "address_street1"=>"", "address_street2"=>"", "country"=>"", "industry"=>"", "company_size"=>"", "internal_notes"=>""}, "available_credit"=>"10000", "association"=>"account", "company_ids"=>["1"], "locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mClient Exists (1.6ms)[0m  SELECT  1 AS one FROM `clients` WHERE `clients`.`email` = 'sdasda@asd.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO `clients` (`address_street1`, `address_street2`, `business_phone`, `city`, `company_size`, `country`, `fax`, `industry`, `internal_notes`, `organization_name`, `postal_zip_code`, `province_state`, `email`, `first_name`, `last_name`, `mobile_number`, `created_at`, `updated_at`) VALUES ('', '', '', '', '', '', '', '', '', ' some company', '', '', 'sdasda@asd.com', 'Rajesh', 'Madhu', '', '2019-01-03 20:38:42', '2019-01-03 20:38:42')[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO `client_contacts` (`email`, `first_name`, `last_name`, `home_phone`, `mobile_number`, `client_id`, `created_at`, `updated_at`) VALUES ('', '', '', '', '', 1, '2019-01-03 20:38:42', '2019-01-03 20:38:42')
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  UPDATE `clients` SET `address_street1` = '', `address_street2` = '', `business_phone` = '', `city` = '', `company_size` = '', `country` = '', `fax` = '', `industry` = '', `internal_notes` = '', `organization_name` = ' some company', `postal_zip_code` = '', `province_state` = '', `email` = 'sdasda@asd.com', `first_name` = 'Rajesh', `last_name` = 'Madhu', `mobile_number` = '', `created_at` = '2019-01-03 20:38:42', `updated_at` = '2019-01-03 20:38:42', `id` = 1, `currency_id` = 65 WHERE `clients`.`id` = 1
  [1m[36mCompanyEntity Load (0.3ms)[0m  [1mSELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 1 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (3.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Client', 1, 1, '2019-01-03 20:38:42', '2019-01-03 20:38:42')[0m
  [1m[35mCompanyEntity Load (0.3ms)[0m  SELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 1 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Client', 1, 1, '2019-01-03 20:38:42', '2019-01-03 20:38:42')[0m
  [1m[35m (4.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCompanyEntity Load (0.4ms)[0m  SELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 1 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/en/clients
Completed 302 Found in 137ms (ActiveRecord: 26.9ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 15:38:42 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mPayment Load (0.8ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND `payments`.`client_id` = 1 AND `payments`.`status` IS NULL
  [1m[36mPayment Load (0.3ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL  [["company_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (22.3ms)
  Rendered clients/_filters.html.erb (7.0ms)
  [1m[35m (0.3ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))
  [1m[36mPayment Load (1.2ms)[0m  [1mSELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_table_view.html.erb (10.2ms)
  Rendered shared/_pagination.html.slim (2.0ms)
  Rendered clients/_clients_container.html.erb (13.5ms)
  Rendered clients/_bulk_actions.erb (0.4ms)
  Rendered clients/index.html.erb within layouts/application (48.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_side_nav.html.erb (16.7ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.0ms)
Completed 200 OK in 194ms (Views: 136.7ms | ActiveRecord: 10.8ms)


Started GET "/en/clients?status=active&view=card" for 127.0.0.1 at 2019-01-03 15:38:51 -0500
Processing by ClientsController#index as HTML
  Parameters: {"status"=>"active", "view"=>"card", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (1.4ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.9ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.9ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mClient Load (2.2ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mPayment Load (0.5ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND `payments`.`client_id` = 1 AND `payments`.`status` IS NULL[0m
  [1m[35mPayment Load (0.6ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCurrency Load (0.5ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (25.2ms)
  Rendered clients/_filters.html.erb (0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))
  [1m[36mPayment Load (0.3ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered clients/_client_card.html.erb (12.6ms)
  Rendered clients/_card_view.html.erb (14.8ms)
  Rendered shared/_pagination.html.slim (1.9ms)
  Rendered clients/_clients_container.html.erb (21.7ms)
  Rendered clients/_bulk_actions.erb (0.3ms)
  Rendered clients/index.html.erb within layouts/application (52.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_side_nav.html.erb (15.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.9ms)
Completed 200 OK in 182ms (Views: 119.7ms | ActiveRecord: 13.2ms)


Started GET "/en/clients/1/edit" for 127.0.0.1 at 2019-01-03 15:39:02 -0500
Processing by ClientsController#edit as JS
  Parameters: {"locale"=>"en", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mClient Load (2.5ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND invoice_id in (NULL))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (NULL))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (NULL))[0m
  [1m[35mClientContact Load (0.4ms)[0m  SELECT `client_contacts`.* FROM `client_contacts` WHERE `client_contacts`.`deleted_at` IS NULL AND `client_contacts`.`client_id` = 1
  Rendered clients/_client_contact_fields.erb (8.3ms)
  Rendered clients/_client_contact_fields.erb (9.9ms)
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mCurrency Load (0.5ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered clients/_client_contact_details.erb (41.5ms)
  Rendered clients/_client_form_popup.html.erb (95.7ms)
  Rendered clients/edit.js.erb (103.3ms)
Completed 200 OK in 149ms (Views: 105.9ms | ActiveRecord: 7.5ms)


Started PATCH "/en/clients/1" for 127.0.0.1 at 2019-01-03 15:39:10 -0500
Processing by ClientsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "commit"=>"Update Client", "client"=>{"organization_name"=>" some company", "first_name"=>"Rajesh", "last_name"=>"Madhu", "email"=>"sdasda@asd.com", "mobile_number"=>"", "business_phone"=>"", "client_contacts_attributes"=>{"0"=>{"first_name"=>"", "last_name"=>"", "email"=>"", "home_phone"=>"", "mobile_number"=>"", "_destroy"=>"false", "id"=>"1"}}, "city"=>"", "province_state"=>"", "postal_zip_code"=>"[FILTERED]", "fax"=>"", "address_street1"=>"", "address_street2"=>"", "country"=>"", "industry"=>"", "company_size"=>"", "internal_notes"=>""}, "available_credit"=>"10000", "calculated_credit"=>"10000", "association"=>"account", "company_ids"=>["1"], "locale"=>"en", "id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCompanyEntity Load (0.4ms)[0m  SELECT `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 1 AND `company_entities`.`entity_type` = 'Client'
  [1m[36mSQL (7.4ms)[0m  [1mDELETE FROM `company_entities` WHERE `company_entities`.`id` = 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `company_entities` WHERE `company_entities`.`id` = 2
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Client', 1, 1, '2019-01-03 20:39:10', '2019-01-03 20:39:10')
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mPayment Load (0.4ms)[0m  SELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mClientContact Load (0.4ms)[0m  SELECT `client_contacts`.* FROM `client_contacts` WHERE `client_contacts`.`deleted_at` IS NULL AND `client_contacts`.`client_id` = 1 AND `client_contacts`.`id` = 1
  [1m[36mCompanyEntity Load (0.4ms)[0m  [1mSELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 1 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:3000/en/clients
Completed 302 Found in 89ms (ActiveRecord: 19.1ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 15:39:10 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (2.1ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mPayment Load (1.1ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND `payments`.`client_id` = 1 AND `payments`.`status` IS NULL[0m
  [1m[35mPayment Load (0.4ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (49.8ms)
  Rendered clients/_filters.html.erb (0.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))
  [1m[36mPayment Load (0.3ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (NULL))[0m
  [1m[35mPayment Load (0.5ms)[0m  SELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered clients/_client_card.html.erb (15.6ms)
  Rendered clients/_card_view.html.erb (16.3ms)
  Rendered shared/_pagination.html.slim (5.9ms)
  Rendered clients/_clients_container.html.erb (23.9ms)
  Rendered clients/_bulk_actions.erb (1.1ms)
  Rendered clients/index.html.erb within layouts/application (81.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (17.3ms)
  Rendered layouts/_side_nav.html.erb (30.7ms)
  Rendered layouts/_flash_messages.html.erb (2.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (8.7ms)
Completed 200 OK in 294ms (Views: 217.3ms | ActiveRecord: 12.3ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:39:20 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.7ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (2.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (28.4ms)
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered invoices/_filters.html.erb (22.1ms)
  [1m[35mInvoice Load (0.6ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0
  Rendered invoices/_card_view.html.erb (4.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (7.0ms)
  Rendered invoices/_invoices_container.html.erb (14.3ms)
  Rendered invoices/_bulk_actions.erb (1.2ms)
  Rendered invoices/index.html.erb within layouts/application (77.8ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (6.5ms)
  Rendered layouts/_side_nav.html.erb (27.0ms)
  Rendered layouts/_flash_messages.html.erb (2.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (8.6ms)
Completed 200 OK in 248ms (Views: 184.5ms | ActiveRecord: 16.6ms)


Started GET "/en/invoices/new" for 127.0.0.1 at 2019-01-03 15:39:23 -0500
Processing by InvoicesController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (3.0ms)[0m  [1mSELECT MAX(`invoices`.`id`) FROM `invoices`[0m
  [1m[35mPaymentTerm Load (3.4ms)[0m  SELECT `payment_terms`.* FROM `payment_terms`
  [1m[36mPaymentTerm Load (0.4ms)[0m  [1mSELECT  `payment_terms`.* FROM `payment_terms`  ORDER BY `payment_terms`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mInvoice Load (0.6ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (20.9ms)
  Rendered invoices/_form_action_links.html.erb (1.7ms)
  Rendered invoices/_form_heading.html.erb (2.0ms)
  Rendered invoices/_form_date_pickers.html.erb (6.5ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payment_terms`.* FROM `payment_terms`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCurrency Load (0.5ms)[0m  SELECT `currencies`.* FROM `currencies`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mTax Load (0.5ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (19.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (19.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (15.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (18.9ms)
  [1m[36mTax Load (0.4ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_form.html.erb (184.2ms)
  Rendered invoices/new.html.erb within layouts/application (209.4ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (6.9ms)
  Rendered layouts/_side_nav.html.erb (13.7ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.5ms)
Completed 200 OK in 395ms (Views: 266.0ms | ActiveRecord: 25.8ms)


Started GET "/en/items/new?type=add-new-popup&position=invoice_invoice_line_items_attributes_0_item_id" for 127.0.0.1 at 2019-01-03 15:39:56 -0500
Processing by ItemsController#new as JS
  Parameters: {"type"=>"add-new-popup", "position"=>"invoice_invoice_line_items_attributes_0_item_id", "locale"=>"en"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mTax Load (0.4ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1
  Rendered items/_form.html.erb (23.2ms)
  Rendered items/new.js.erb (26.0ms)
Completed 200 OK in 73ms (Views: 33.5ms | ActiveRecord: 7.1ms)


Started POST "/en/items" for 127.0.0.1 at 2019-01-03 15:40:22 -0500
Processing by ItemsController#create as JS
  Parameters: {"utf8"=>"✓", "item"=>{"item_name"=>"5 inch", "item_description"=>"5 inch", "unit_cost"=>"72", "quantity"=>"1", "tax_1"=>"", "tax_2"=>""}, "position"=>"invoice_invoice_line_items_attributes_0_item_id", "association"=>"account", "company_ids"=>["1"], "commit"=>"Create Item", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT `items`.* FROM `items` WHERE `items`.`item_name` = '5 inch'[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO `items` (`item_description`, `item_name`, `quantity`, `unit_cost`, `created_at`, `updated_at`) VALUES ('5 inch', '5 inch', 1.0, 72.0, '2019-01-03 20:40:22', '2019-01-03 20:40:22')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Item', 1, 1, '2019-01-03 20:40:22', '2019-01-03 20:40:22')[0m
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  Rendered items/create.js.erb (0.9ms)
Completed 200 OK in 56ms (Views: 8.2ms | ActiveRecord: 9.0ms)


Started POST "/items/load_item_data" for 127.0.0.1 at 2019-01-03 15:40:22 -0500
Processing by ItemsController#load_item_data as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mItem Load (0.4ms)[0m  SELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  Rendered text template (0.0ms)
Completed 200 OK in 20ms (Views: 4.1ms | ActiveRecord: 3.3ms)


Started POST "/items/load_item_data" for 127.0.0.1 at 2019-01-03 15:40:28 -0500
Processing by ItemsController#load_item_data as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1  [["id", "1"]]
  Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 1.0ms)


Started POST "/en/invoices" for 127.0.0.1 at 2019-01-03 15:40:47 -0500
Processing by InvoicesController#create as JS
  Parameters: {"utf8"=>"✓", "invoice"=>{"invoice_date"=>"03-Jan-2019", "client_id"=>"1", "payment_terms_id"=>"4", "due_date"=>"03-Jan-2019", "recurring_schedule_attributes"=>{"next_invoice_date"=>"03-Jan-2019", "frequency"=>"1.week", "occurrences"=>"0", "delivery_option"=>"send_invoice", "_destroy"=>"true"}, "invoice_line_items_attributes"=>{"0"=>{"_destroy"=>"false", "item_id"=>"1", "item_name"=>"5 inch", "item_description"=>"5 inch", "item_unit_cost"=>"72.00", "item_quantity"=>"1", "tax_1"=>"", "tax_2"=>""}, "1"=>{"_destroy"=>"false", "item_id"=>"1", "item_name"=>"5 inch", "item_description"=>"5 inch", "item_unit_cost"=>"72.00", "item_quantity"=>"1", "tax_1"=>"", "tax_2"=>""}, "2"=>{"_destroy"=>"false", "item_id"=>"", "item_name"=>"", "item_description"=>"", "item_unit_cost"=>"", "item_quantity"=>"", "tax_1"=>"", "tax_2"=>""}}, "discount_type"=>"%", "tax_id"=>"", "sub_total"=>"144.00", "discount_amount"=>"0.00", "discount_percentage"=>"", "invoice_tax_amount"=>"0", "tax_amount"=>"0.00", "invoice_total"=>"144.00", "notes"=>""}, "save_as_draft"=>"true", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCurrency Load (1.2ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT MAX(`invoices`.`id`) FROM `invoices`[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `invoices` (`client_id`, `discount_amount`, `discount_type`, `invoice_date`, `notes`, `sub_total`, `tax_amount`, `invoice_total`, `payment_terms_id`, `due_date`, `invoice_tax_amount`, `status`, `invoice_type`, `company_id`, `updated_by`, `currency_id`, `created_at`, `updated_at`, `created_by`, `invoice_number`) VALUES (1, 0.0, '%', '2019-01-03 05:00:00', '', 144.0, 0.0, 144.0, 4, '2019-01-03', 0.0, 'draft', 'Invoice', 1, 1, 65, '2019-01-03 20:40:47', '2019-01-03 20:40:47', 1, '00001')
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO `invoice_line_items` (`item_description`, `item_id`, `item_name`, `item_quantity`, `item_unit_cost`, `invoice_id`, `created_at`, `updated_at`) VALUES ('5 inch', 1, '5 inch', 1.0, 72.0, 1, '2019-01-03 20:40:47', '2019-01-03 20:40:47')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `invoice_line_items` (`item_description`, `item_id`, `item_name`, `item_quantity`, `item_unit_cost`, `invoice_id`, `created_at`, `updated_at`) VALUES ('5 inch', 1, '5 inch', 1.0, 72.0, 1, '2019-01-03 20:40:47', '2019-01-03 20:40:47')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `clients` SET `clients`.`updated_at` = '2019-01-03 20:40:47' WHERE `clients`.`id` = 1
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  Rendered invoices/create.js.erb (1.0ms)
Completed 200 OK in 91ms (Views: 7.7ms | ActiveRecord: 11.5ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:40:50 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (2.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (29.3ms)
  [1m[35mAccount Load (1.2ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (1.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices`
  Rendered invoices/_filters.html.erb (27.7ms)
  [1m[36mInvoice Load (1.1ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0[0m
  [1m[35mClient Load (4.3ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mCurrency Load (1.6ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m
  [1m[35mRecurringSchedule Load (0.5ms)[0m  SELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1
  Rendered invoices/_invoice_card.html.erb (29.4ms)
  Rendered invoices/_card_view.html.erb (42.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35m (3.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (9.4ms)
  Rendered invoices/_invoices_container.html.erb (54.1ms)
  Rendered invoices/_bulk_actions.erb (1.5ms)
  Rendered invoices/index.html.erb within layouts/application (126.3ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (12.0ms)
  Rendered layouts/_side_nav.html.erb (26.0ms)
  Rendered layouts/_flash_messages.html.erb (3.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.3ms)
Completed 200 OK in 332ms (Views: 242.8ms | ActiveRecord: 26.9ms)


Started GET "/en/clients" for 127.0.0.1 at 2019-01-03 15:40:59 -0500
Processing by ClientsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCompany Load (0.8ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (1.3ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)
  [1m[36mPayment Load (0.4ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND `payments`.`client_id` = 1 AND `payments`.`status` IS NULL[0m
  [1m[35mPayment Load (0.4ms)[0m  SELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND `payments`.`company_id` = 1 AND 1=0 AND `payments`.`status` IS NULL[0m  [["company_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.8ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`deleted_at` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND (`clients`.`archived_at` IS NOT NULL) AND (`clients`.`archive_number` IS NOT NULL)[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered clients/_client_activity.html.erb (38.1ms)
  Rendered clients/_filters.html.erb (0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (1))
  [1m[36mPayment Load (0.2ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND status IS NULL AND invoice_id in (1))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered clients/_client_card.html.erb (7.7ms)
  Rendered clients/_card_view.html.erb (8.3ms)
  Rendered shared/_pagination.html.slim (2.3ms)
  Rendered clients/_clients_container.html.erb (11.7ms)
  Rendered clients/_bulk_actions.erb (0.4ms)
  Rendered clients/index.html.erb within layouts/application (60.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_side_nav.html.erb (18.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_new_actions_buttons.html.erb (5.5ms)
Completed 200 OK in 212ms (Views: 128.3ms | ActiveRecord: 11.7ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 15:41:11 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mCurrency Load (0.5ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65
  [1m[36m (2.2ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)[0m
  [1m[35m (1.7ms)[0m  SELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (1)) AND (company_id=1) GROUP BY month(payment_date)
  [1m[36mInvoice Load (1.0ms)[0m  [1mSELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mCurrency Load (0.5ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  SELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100
  [1m[36mInvoice Load (5.3ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65  [["currency_id", 65]]
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (1)) AND (company_id=1)[0m
  [1m[35mInvoice Load (2.6ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (1.8ms)
  Rendered dashboard/_widgets.html.erb (4.6ms)
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mInvoice Load (0.4ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (6.6ms)
  Rendered dashboard/index.erb within layouts/application (20.0ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_side_nav.html.erb (11.5ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.1ms)
Completed 200 OK in 131ms (Views: 80.3ms | ActiveRecord: 18.8ms)


Started GET "/en/invoices/unpaid_invoices" for 127.0.0.1 at 2019-01-03 15:41:26 -0500
Processing by InvoicesController#unpaid_invoices as JS
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT `invoices`.* FROM `invoices` INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `invoices`.`deleted_at` IS NULL AND ((status != 'paid' or status is null) ) AND (invoices.company_id=1)  ORDER BY created_at desc
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  Rendered invoices/_unpaid_invoices.erb (9.7ms)
  Rendered invoices/unpaid_invoices.js.erb (12.1ms)
Completed 200 OK in 26ms (Views: 18.1ms | ActiveRecord: 1.9ms)


Started POST "/payments/enter_payment" for 127.0.0.1 at 2019-01-03 15:41:30 -0500
Processing by PaymentsController#enter_payment as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "commit"=>"", "invoice_ids"=>["1"]}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.7ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))
  [1m[36mPayment Load (0.3ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  Rendered payments/_payment_activity.html.erb (5.8ms)
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mPayment Load (1.1ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (invoice_id = 1 and (payment_type is null || payment_type != 'credit'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (invoice_id = 1 and (payment_type is null || payment_type != 'credit'))
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (1))[0m
  [1m[35mPayment Load (0.3ms)[0m  SELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (1))[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`id` = 1 LIMIT 1
  [1m[36mCurrency Load (1.2ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (invoice_id = 1 and (payment_type is null || payment_type != 'credit'))[0m
  Rendered payments/_fields.html.erb (30.1ms)
  Rendered payments/_enter_payment.html.erb (39.7ms)
  Rendered payments/enter_payment.html.erb within layouts/application (53.6ms)
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_side_nav.html.erb (13.2ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.9ms)
Completed 200 OK in 152ms (Views: 124.7ms | ActiveRecord: 9.0ms)


Started PUT "/payments/update_individual_payment" for 127.0.0.1 at 2019-01-03 15:41:42 -0500
Processing by PaymentsController#update_individual_payment as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "payments"=>[{"invoice_id"=>"1", "payment_amount"=>"10", "invoice_number"=>"00001", "payment_method"=>"Cash", "payment_date"=>"03-Jan-2019", "notes"=>""}], "commit"=>"Save"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE (client_id = 1)[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (1))
  [1m[36mPayment Load (1.0ms)[0m  [1mSELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`client_id` = 1  ORDER BY `payments`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mPayment Load (0.4ms)[0m  SELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (invoice_id = 1 and (payment_type is null || payment_type != 'credit'))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvoiceLineItem Load (0.4ms)[0m  SELECT `invoice_line_items`.* FROM `invoice_line_items` WHERE `invoice_line_items`.`deleted_at` IS NULL AND `invoice_line_items`.`invoice_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `invoices` SET `last_invoice_status` = 'draft', `status` = 'draft-partial', `updated_at` = '2019-01-03 20:41:43' WHERE `invoices`.`id` = 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `clients` SET `clients`.`updated_at` = '2019-01-03 20:41:43' WHERE `clients`.`id` = 1[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO `payments` (`invoice_id`, `payment_amount`, `payment_method`, `payment_date`, `notes`, `credit_applied`, `company_id`, `created_at`, `updated_at`) VALUES (1, 10.0, 'Cash', '2019-01-03', '', 0.0, 1, '2019-01-03 20:41:43', '2019-01-03 20:41:43')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/en/payments
Completed 302 Found in 65ms (ActiveRecord: 13.7ms)


Started GET "/en/payments" for 127.0.0.1 at 2019-01-03 15:41:43 -0500
Processing by PaymentsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))
  [1m[36mPayment Load (0.3ms)[0m  [1mSELECT `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered payments/_payment_activity.html.erb (8.4ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (1.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices`
  Rendered payments/_filters.html.erb (18.7ms)
  [1m[36mPayment Load (0.4ms)[0m  [1mSELECT  `payments`.* FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1))  ORDER BY created_at DESC LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  Rendered payments/_payment_card.html.erb (18.4ms)
  Rendered payments/_card_view.html.erb (21.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1))[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`archived_at` IS NULL AND `payments`.`archive_number` IS NULL AND (payments.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (4.4ms)
  Rendered payments/_payments_container.html.erb (27.6ms)
  Rendered payments/_bulk_actions.erb (0.4ms)
  Rendered payments/index.html.erb within layouts/application (62.1ms)
  [1m[36mCompany Load (0.4ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_side_nav.html.erb (18.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.4ms)
Completed 200 OK in 161ms (Views: 127.3ms | ActiveRecord: 8.3ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 15:41:49 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (0.4ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (1)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1  [["id", 65]]
  [1m[36mInvoice Load (0.7ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65  [["currency_id", 65]]
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (1)) AND (company_id=1)[0m
  [1m[35mInvoice Load (0.8ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (3.7ms)
  Rendered dashboard/_widgets.html.erb (2.7ms)
  [1m[36mInvoice Load (0.6ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mInvoice Load (0.4ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (7.3ms)
  Rendered dashboard/index.erb within layouts/application (16.3ms)
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.8ms)
  Rendered layouts/_side_nav.html.erb (16.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.6ms)
Completed 200 OK in 116ms (Views: 81.2ms | ActiveRecord: 11.4ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:42:13 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (24.0ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mInvoice Load (4.7ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.2ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (2.7ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (72.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (35.9ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (83.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (88.7ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (106.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (1675.6ms)
  [1m[36mAccount Load (18.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (14.7ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (8.7ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (51.9ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (55.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  Rendered invoices/_filters.html.erb (1091.2ms)
  [1m[35mInvoice Load (81.6ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0
  [1m[36mClient Load (58.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCurrency Load (41.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mRecurringSchedule Load (3.5ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1[0m
  Rendered invoices/_invoice_card.html.erb (827.6ms)
  Rendered invoices/_card_view.html.erb (943.3ms)
  [1m[35m (62.9ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))
  [1m[36m (13.8ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (219.9ms)
  Rendered invoices/_invoices_container.html.erb (1172.7ms)
  Rendered invoices/_bulk_actions.erb (5.9ms)
  Rendered invoices/index.html.erb within layouts/application (4056.4ms)
  [1m[35mCompany Load (56.8ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (1.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (5.5ms)
  Rendered layouts/_header.html.erb (103.5ms)
  Rendered layouts/_side_nav.html.erb (40.7ms)
  Rendered layouts/_flash_messages.html.erb (2.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (3.9ms)
Completed 200 OK in 8457ms (Views: 4934.4ms | ActiveRecord: 1498.8ms)


Started GET "/en/invoices/new" for 127.0.0.1 at 2019-01-03 15:42:23 -0500
Processing by InvoicesController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (8.9ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (3.9ms)[0m  SELECT MAX(`invoices`.`id`) FROM `invoices`
  [1m[36mPaymentTerm Load (52.6ms)[0m  [1mSELECT `payment_terms`.* FROM `payment_terms`[0m
  [1m[35mPaymentTerm Load (5.3ms)[0m  SELECT  `payment_terms`.* FROM `payment_terms`  ORDER BY `payment_terms`.`id` ASC LIMIT 1
  [1m[36mCompany Load (18.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (3.8ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mItem Load (14.5ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'[0m
  [1m[35mInvoice Load (4.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.6ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (4.8ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (4.1ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (2.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (3.8ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (47.1ms)
  Rendered invoices/_form_action_links.html.erb (1.4ms)
  Rendered invoices/_form_heading.html.erb (3.4ms)
  Rendered invoices/_form_date_pickers.html.erb (197.1ms)
  [1m[35mAccount Load (66.1ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `payment_terms`.* FROM `payment_terms`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCurrency Load (53.9ms)[0m  SELECT `currencies`.* FROM `currencies`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mItem Load (60.6ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mItem Load (68.5ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mTax Load (23.2ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (540.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (142.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (118.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.7ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  Rendered invoices/_invoice_line_item_fields.erb (162.5ms)
  [1m[36mTax Load (98.1ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_form.html.erb (2652.2ms)
  Rendered invoices/new.html.erb within layouts/application (2709.3ms)
  [1m[36mCompany Load (95.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (110.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (244.8ms)
  Rendered layouts/_side_nav.html.erb (77.0ms)
  Rendered layouts/_flash_messages.html.erb (51.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (28.6ms)
Completed 200 OK in 4646ms (Views: 2974.6ms | ActiveRecord: 1077.2ms)


Started GET "/en/invoices/new" for 127.0.0.1 at 2019-01-03 15:42:28 -0500
Processing by InvoicesController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (86.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (131.9ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (97.9ms)[0m  [1mSELECT MAX(`invoices`.`id`) FROM `invoices`[0m
  [1m[35mPaymentTerm Load (98.3ms)[0m  SELECT `payment_terms`.* FROM `payment_terms`
  [1m[36mPaymentTerm Load (104.8ms)[0m  [1mSELECT  `payment_terms`.* FROM `payment_terms`  ORDER BY `payment_terms`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (121.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (118.1ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mItem Load (138.4ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mInvoice Load (136.5ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (100.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (106.5ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (90.7ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (137.8ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (123.6ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (113.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (113.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (125.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (105.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (143.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (151.9ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (141.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (132.9ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (135.0ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (115.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (832.4ms)
  Rendered invoices/_form_action_links.html.erb (2.5ms)
  Rendered invoices/_form_heading.html.erb (5.8ms)
  Rendered invoices/_form_date_pickers.html.erb (138.2ms)
  [1m[36mAccount Load (193.1ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (202.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mClient Load (97.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT `payment_terms`.* FROM `payment_terms`[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCurrency Load (102.4ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (224.7ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mItem Load (168.7ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mTax Load (147.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (1025.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (574.3ms)
  [1m[35mCACHE (0.7ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (691.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.9ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.9ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (700.4ms)
  [1m[35mTax Load (102.3ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_form.html.erb (5521.7ms)
  Rendered invoices/new.html.erb within layouts/application (6373.9ms)
  [1m[35mCompany Load (327.2ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (145.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (612.1ms)
  Rendered layouts/_side_nav.html.erb (1213.2ms)
  Rendered layouts/_flash_messages.html.erb (11.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (22.1ms)
Completed 200 OK in 14057ms (Views: 8920.3ms | ActiveRecord: 4696.6ms)


Started GET "/en/invoices/new" for 127.0.0.1 at 2019-01-03 15:44:34 -0500
Processing by InvoicesController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.7ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36m (4.3ms)[0m  [1mSELECT MAX(`invoices`.`id`) FROM `invoices`[0m
  [1m[35mPaymentTerm Load (0.9ms)[0m  SELECT `payment_terms`.* FROM `payment_terms`
  [1m[36mPaymentTerm Load (0.3ms)[0m  [1mSELECT  `payment_terms`.* FROM `payment_terms`  ORDER BY `payment_terms`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (2.8ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (2.6ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mItem Load (1.2ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mInvoice Load (0.6ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (1.2ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (0.7ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (49.8ms)
  Rendered invoices/_form_action_links.html.erb (1.3ms)
  Rendered invoices/_form_heading.html.erb (2.1ms)
  Rendered invoices/_form_date_pickers.html.erb (31.3ms)
  [1m[36mAccount Load (6.6ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (1.2ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mClient Load (1.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `payment_terms`.* FROM `payment_terms`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.7ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m
  [1m[35mTax Load (0.4ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (26.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (37.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (25.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Item"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `items`.* FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item' AND `items`.`archived_at` IS NULL AND `items`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Item"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL AND `taxes`.`archived_at` IS NULL AND `taxes`.`archive_number` IS NULL[0m
  Rendered invoices/_invoice_line_item_fields.erb (29.0ms)
  [1m[35mTax Load (0.3ms)[0m  SELECT `taxes`.* FROM `taxes` WHERE `taxes`.`deleted_at` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_form.html.erb (308.1ms)
  Rendered invoices/new.html.erb within layouts/application (365.9ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (9.2ms)
  Rendered layouts/_side_nav.html.erb (37.1ms)
  Rendered layouts/_flash_messages.html.erb (2.7ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.0ms)
Completed 200 OK in 1272ms (Views: 533.7ms | ActiveRecord: 78.1ms)


Started GET "/en/clients/new?type=add-new-popup&position=invoice_client_id" for 127.0.0.1 at 2019-01-03 15:44:46 -0500
Processing by ClientsController#new as JS
  Parameters: {"type"=>"add-new-popup", "position"=>"invoice_client_id", "locale"=>"en"}
  [1m[35mUser Load (2.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (4.7ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (4.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)
  [1m[36m (6.0ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit' AND invoice_id in (NULL))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE (client_id = NULL)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type = 'credit'  AND invoice_id in (NULL))[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_method = 'credit'  AND invoice_id in (NULL))
  Rendered clients/_client_contact_fields.erb (13.8ms)
  Rendered clients/_client_contact_fields.erb (67.6ms)
  [1m[36mAccount Load (21.2ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (2.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1
  [1m[36mCurrency Load (34.1ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered clients/_client_contact_details.erb (226.9ms)
  Rendered clients/_client_form_popup.html.erb (471.9ms)
  Rendered clients/new.js.erb (476.5ms)
Completed 200 OK in 612ms (Views: 435.9ms | ActiveRecord: 115.4ms)


Started POST "/en/clients" for 127.0.0.1 at 2019-01-03 15:45:26 -0500
Processing by ClientsController#create as JS
  Parameters: {"utf8"=>"✓", "client"=>{"organization_name"=>" Mohan traders", "first_name"=>"Mohan", "last_name"=>"L", "email"=>"asdas@asd.com", "mobile_number"=>"", "business_phone"=>"", "client_contacts_attributes"=>{"0"=>{"first_name"=>"", "last_name"=>"", "email"=>"", "home_phone"=>"", "mobile_number"=>"", "_destroy"=>"false"}}, "city"=>"", "province_state"=>"", "postal_zip_code"=>"[FILTERED]", "fax"=>"", "address_street1"=>"", "address_street2"=>"", "country"=>"", "industry"=>"", "company_size"=>"", "internal_notes"=>""}, "type"=>"add-new-popup", "available_credit"=>"12000", "association"=>"account", "company_ids"=>["1"], "commit"=>"Create Client", "locale"=>"en"}
  [1m[35mUser Load (1.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (5.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mClient Exists (5.8ms)[0m  SELECT  1 AS one FROM `clients` WHERE `clients`.`email` = 'asdas@asd.com' LIMIT 1
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35mAccount Load (12.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mSQL (14.6ms)[0m  [1mINSERT INTO `clients` (`address_street1`, `address_street2`, `business_phone`, `city`, `company_size`, `country`, `fax`, `industry`, `internal_notes`, `organization_name`, `postal_zip_code`, `province_state`, `email`, `first_name`, `last_name`, `mobile_number`, `created_at`, `updated_at`) VALUES ('', '', '', '', '', '', '', '', '', ' Mohan traders', '', '', 'asdas@asd.com', 'Mohan', 'L', '', '2019-01-03 20:45:27', '2019-01-03 20:45:27')[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `client_contacts` (`email`, `first_name`, `last_name`, `home_phone`, `mobile_number`, `client_id`, `created_at`, `updated_at`) VALUES ('', '', '', '', '', 2, '2019-01-03 20:45:27', '2019-01-03 20:45:27')
  [1m[36mCurrency Load (5.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE `clients` SET `address_street1` = '', `address_street2` = '', `business_phone` = '', `city` = '', `company_size` = '', `country` = '', `fax` = '', `industry` = '', `internal_notes` = '', `organization_name` = ' Mohan traders', `postal_zip_code` = '', `province_state` = '', `email` = 'asdas@asd.com', `first_name` = 'Mohan', `last_name` = 'L', `mobile_number` = '', `created_at` = '2019-01-03 20:45:27', `updated_at` = '2019-01-03 20:45:27', `id` = 2, `currency_id` = 65 WHERE `clients`.`id` = 2
  [1m[36mCompanyEntity Load (0.4ms)[0m  [1mSELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 2 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Client', 1, 2, '2019-01-03 20:45:28', '2019-01-03 20:45:28')[0m
  [1m[35mCompanyEntity Load (1.5ms)[0m  SELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 2 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Client', 1, 2, '2019-01-03 20:45:28', '2019-01-03 20:45:28')[0m
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCompanyEntity Load (2.8ms)[0m  SELECT  `company_entities`.* FROM `company_entities` WHERE `company_entities`.`entity_id` = 2 AND `company_entities`.`entity_type` = 'Client'  ORDER BY `company_entities`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  Rendered clients/create.js.erb (9.1ms)
Completed 200 OK in 970ms (Views: 31.2ms | ActiveRecord: 115.0ms)


Started POST "/items/load_item_data" for 127.0.0.1 at 2019-01-03 15:45:40 -0500
Processing by ItemsController#load_item_data as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mItem Load (0.5ms)[0m  [1mSELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `items`.* FROM `items` WHERE `items`.`deleted_at` IS NULL AND `items`.`id` = 1 LIMIT 1  [["id", "1"]]
  Rendered text template (0.0ms)
Completed 200 OK in 214ms (Views: 149.7ms | ActiveRecord: 30.9ms)


Started POST "/en/invoices" for 127.0.0.1 at 2019-01-03 15:46:46 -0500
Processing by InvoicesController#create as JS
  Parameters: {"utf8"=>"✓", "invoice"=>{"invoice_date"=>"03-Jan-2019", "client_id"=>"2", "payment_terms_id"=>"4", "due_date"=>"04-Jan-2019", "recurring_schedule_attributes"=>{"next_invoice_date"=>"03-Jan-2019", "frequency"=>"1.week", "occurrences"=>"0", "delivery_option"=>"send_invoice", "_destroy"=>"true"}, "invoice_line_items_attributes"=>{"0"=>{"_destroy"=>"false", "item_id"=>"1", "item_name"=>"5 inch", "item_description"=>"5 inch", "item_unit_cost"=>"72.00", "item_quantity"=>"8", "tax_1"=>"", "tax_2"=>""}, "1"=>{"_destroy"=>"false", "item_id"=>"", "item_name"=>"", "item_description"=>"", "item_unit_cost"=>"", "item_quantity"=>"", "tax_1"=>"", "tax_2"=>""}, "2"=>{"_destroy"=>"false", "item_id"=>"", "item_name"=>"", "item_description"=>"", "item_unit_cost"=>"", "item_quantity"=>"", "tax_1"=>"", "tax_2"=>""}}, "discount_type"=>"%", "tax_id"=>"", "sub_total"=>"576.00", "discount_amount"=>"0.00", "discount_percentage"=>"", "invoice_tax_amount"=>"0", "tax_amount"=>"0.00", "invoice_total"=>"576.00", "notes"=>""}, "save_as_draft"=>"true", "locale"=>"en"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (1.9ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCurrency Load (1.1ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (8.3ms)[0m  SELECT MAX(`invoices`.`id`) FROM `invoices`
  [1m[36mSQL (5.9ms)[0m  [1mINSERT INTO `invoices` (`client_id`, `discount_amount`, `discount_type`, `invoice_date`, `notes`, `sub_total`, `tax_amount`, `invoice_total`, `payment_terms_id`, `due_date`, `invoice_tax_amount`, `status`, `invoice_type`, `company_id`, `updated_by`, `currency_id`, `created_at`, `updated_at`, `created_by`, `invoice_number`) VALUES (2, 0.0, '%', '2019-01-03 05:00:00', '', 576.0, 0.0, 576.0, 4, '2019-01-04', 0.0, 'draft', 'Invoice', 1, 1, 65, '2019-01-03 20:46:47', '2019-01-03 20:46:47', 1, '00002')[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `invoice_line_items` (`item_description`, `item_id`, `item_name`, `item_quantity`, `item_unit_cost`, `invoice_id`, `created_at`, `updated_at`) VALUES ('5 inch', 1, '5 inch', 8.0, 72.0, 2, '2019-01-03 20:46:47', '2019-01-03 20:46:47')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `clients` SET `clients`.`updated_at` = '2019-01-03 20:46:47' WHERE `clients`.`id` = 2
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  Rendered invoices/create.js.erb (1.4ms)
Completed 200 OK in 338ms (Views: 21.1ms | ActiveRecord: 57.0ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:46:50 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (5.6ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (1.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (1.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (45.3ms)
  [1m[35mAccount Load (2.2ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (0.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices`
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1
  Rendered invoices/_filters.html.erb (30.9ms)
  [1m[36mInvoice Load (0.6ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1
  [1m[36mCurrency Load (0.2ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m
  [1m[35mRecurringSchedule Load (0.2ms)[0m  SELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 2 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1  [["id", 65]]
  [1m[36mRecurringSchedule Load (0.3ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1[0m
  Rendered invoices/_invoice_card.html.erb (26.2ms)
  Rendered invoices/_card_view.html.erb (50.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (8.8ms)
  Rendered invoices/_invoices_container.html.erb (63.2ms)
  Rendered invoices/_bulk_actions.erb (0.5ms)
  Rendered invoices/index.html.erb within layouts/application (152.4ms)
  [1m[35mCompany Load (0.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (9.9ms)
  Rendered layouts/_side_nav.html.erb (52.0ms)
  Rendered layouts/_flash_messages.html.erb (2.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (4.9ms)
Completed 200 OK in 727ms (Views: 545.6ms | ActiveRecord: 56.5ms)


Started GET "/en/projects" for 127.0.0.1 at 2019-01-03 15:47:01 -0500
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (93.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (79.0ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mRole Load (78.4ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'staff') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'staff') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (101.2ms)[0m  SELECT COUNT(*) FROM `projects` WHERE `projects`.`deleted_at` IS NULL AND (company_id IN(1)) AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL
  [1m[36m (63.4ms)[0m  [1mSELECT COUNT(*) FROM `projects` WHERE `projects`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`projects`.`archived_at` IS NOT NULL) AND (`projects`.`archive_number` IS NOT NULL)[0m
  [1m[35m (81.0ms)[0m  SELECT COUNT(*) FROM `projects` WHERE (company_id IN(1)) AND (`projects`.`deleted_at` IS NOT NULL)
  Rendered projects/_project_activity.html.erb (317.9ms)
  [1m[36mAccount Load (112.8ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (100.5ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (101.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (117.8ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (101.5ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL
  [1m[36mStaff Load (92.0ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m
  Rendered projects/_filters.html.erb (824.1ms)
  [1m[35m (107.7ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered projects/_card_view.html.erb (137.2ms)
  [1m[36m (119.4ms)[0m  [1mSELECT COUNT(*) FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `projects` LEFT OUTER JOIN clients ON clients.id = projects.client_id WHERE `projects`.`deleted_at` IS NULL AND `projects`.`archived_at` IS NULL AND `projects`.`archive_number` IS NULL AND (projects.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (179.7ms)
  Rendered projects/_projects_container.html.erb (335.7ms)
  Rendered projects/_bulk_actions.html.erb (1.4ms)
  Rendered projects/index.html.erb within layouts/application (1542.3ms)
  [1m[36mCompany Load (77.7ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (77.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (1.4ms)
  Rendered layouts/_header.html.erb (273.1ms)
  Rendered layouts/_side_nav.html.erb (144.9ms)
  Rendered layouts/_flash_messages.html.erb (7.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (11.1ms)
Completed 200 OK in 3080ms (Views: 1363.0ms | ActiveRecord: 1548.3ms)


Started GET "/en/projects/new" for 127.0.0.1 at 2019-01-03 15:48:22 -0500
Processing by ProjectsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.2ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mAccount Load (1.5ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (0.4ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL
  [1m[36mStaff Load (0.3ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m
Redirected to http://localhost:3000/en/staffs
Completed 302 Found in 123ms (ActiveRecord: 31.7ms)


Started GET "/en/staffs" for 127.0.0.1 at 2019-01-03 15:48:22 -0500
Processing by StaffsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (15.3ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (0.6ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (6.4ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mStaff Load (0.4ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL
  [1m[36mStaff Load (0.6ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (0.9ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Staff"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Staff"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (2.7ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`archived_at` IS NOT NULL) AND (`staffs`.`archive_number` IS NOT NULL)
  [1m[36mStaff Load (0.4ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`archived_at` IS NOT NULL) AND (`staffs`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (0.5ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`deleted_at` IS NOT NULL)
  [1m[36mStaff Load (0.4ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`deleted_at` IS NOT NULL)[0m
  Rendered staffs/_staff_activity.html.erb (57.7ms)
  [1m[35m (6.0ms)[0m  SELECT MAX(`staffs`.`rate`) FROM `staffs`
  Rendered staffs/_filters.html.erb (15.2ms)
  Rendered staffs/_card_view.html.erb (1.7ms)
  Rendered shared/_pagination.html.slim (4.3ms)
  Rendered staffs/_staffs_container.html.erb (10.0ms)
  Rendered staffs/_bulk_actions.erb (2.6ms)
  Rendered staffs/index.html.erb within layouts/application (107.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (11.7ms)
  Rendered layouts/_side_nav.html.erb (40.0ms)
  Rendered layouts/_flash_messages.html.erb (5.9ms)
  Rendered layouts/_new_actions_buttons.html.erb (17.3ms)
Completed 200 OK in 425ms (Views: 315.3ms | ActiveRecord: 38.2ms)


Started GET "/en/staffs/new" for 127.0.0.1 at 2019-01-03 15:48:29 -0500
Processing by StaffsController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (57.8ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mAccount Load (47.8ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1
  Rendered staffs/_staff_form_popup.html.erb (126.1ms)
  Rendered staffs/new.js.erb (136.8ms)
Completed 200 OK in 454ms (Views: 108.9ms | ActiveRecord: 146.7ms)


Started POST "/en/staffs" for 127.0.0.1 at 2019-01-03 15:48:49 -0500
Processing by StaffsController#create as JS
  Parameters: {"utf8"=>"✓", "staff"=>{"name"=>"Prabhu", "email"=>"asdas@adas.com", "rate"=>"13"}, "project_id"=>"", "association"=>"account", "company_ids"=>["1"], "commit"=>"Create Staff", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.8ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mStaff Load (0.5ms)[0m  [1mSELECT `staffs`.* FROM `staffs` WHERE `staffs`.`email` = 'asdas@adas.com'[0m
  [1m[35mProject Load (2.1ms)[0m  SELECT  `projects`.* FROM `projects` WHERE `projects`.`deleted_at` IS NULL AND `projects`.`id` = NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAccount Load (2.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO `staffs` (`email`, `name`, `rate`, `created_at`, `updated_at`) VALUES ('asdas@adas.com', 'Prabhu', 13.0, '2019-01-03 20:48:49', '2019-01-03 20:48:49')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `company_entities` (`parent_type`, `entity_type`, `parent_id`, `entity_id`, `created_at`, `updated_at`) VALUES ('Account', 'Staff', 1, 1, '2019-01-03 20:48:49', '2019-01-03 20:48:49')
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  Rendered staffs/create.js.erb (6.8ms)
Completed 200 OK in 144ms (Views: 18.5ms | ActiveRecord: 48.4ms)


Started GET "/en/staffs" for 127.0.0.1 at 2019-01-03 15:48:53 -0500
Processing by StaffsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (4.8ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mCompany Load (0.5ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (4.1ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mStaff Load (0.5ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL
  [1m[36mStaff Load (0.6ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCompany Load (2.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Account"], ["entity_type", "Staff"]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND `staffs`.`archived_at` IS NULL AND `staffs`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Staff"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (5.0ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`archived_at` IS NOT NULL) AND (`staffs`.`archive_number` IS NOT NULL)
  [1m[36mStaff Load (0.5ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `staffs`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`archived_at` IS NOT NULL) AND (`staffs`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mStaff Load (0.6ms)[0m  SELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`deleted_at` IS NOT NULL)
  [1m[36mStaff Load (0.6ms)[0m  [1mSELECT `staffs`.* FROM `staffs` INNER JOIN `company_entities` ON `staffs`.`id` = `company_entities`.`entity_id` WHERE `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Staff' AND (`staffs`.`deleted_at` IS NOT NULL)[0m
  Rendered staffs/_staff_activity.html.erb (95.9ms)
  [1m[35m (6.2ms)[0m  SELECT MAX(`staffs`.`rate`) FROM `staffs`
  Rendered staffs/_filters.html.erb (17.6ms)
  [1m[36mCurrency Load (5.1ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  Rendered staffs/_staff_card.html.erb (42.4ms)
  Rendered staffs/_card_view.html.erb (46.2ms)
  Rendered shared/_pagination.html.slim (6.6ms)
  Rendered staffs/_staffs_container.html.erb (56.7ms)
  Rendered staffs/_bulk_actions.erb (1.3ms)
  Rendered staffs/index.html.erb within layouts/application (197.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (11.0ms)
  Rendered layouts/_side_nav.html.erb (44.0ms)
  Rendered layouts/_flash_messages.html.erb (1.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (7.6ms)
Completed 200 OK in 579ms (Views: 407.8ms | ActiveRecord: 70.4ms)


Started GET "/en/staffs/new" for 127.0.0.1 at 2019-01-03 15:49:10 -0500
Processing by StaffsController#new as JS
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (3.1ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mAccount Load (2.4ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`account_id` = 1[0m
  Rendered staffs/_staff_form_popup.html.erb (19.2ms)
  Rendered staffs/new.js.erb (20.9ms)
Completed 200 OK in 108ms (Views: 32.6ms | ActiveRecord: 31.3ms)


Started GET "/en/reports/payments_collected" for 127.0.0.1 at 2019-01-03 15:49:28 -0500
Processing by ReportsController#reports as HTML
  Parameters: {"locale"=>"en", "report_name"=>"payments_collected"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
--> in reports_controller#report... {"controller"=>"reports", "action"=>"reports", "locale"=>"en", "report_name"=>"payments_collected"} 
--> Criteria init... --- !ruby/hash-with-ivars:ActionController::Parameters
elements:
  current_company: '1'
ivars:
  :@permitted: false

--> Criteria init... --- !ruby/object:Reporting::Criteria
from_date: 2018-12-03
to_date: 2019-01-03
client_id: 0
company_id: 1
payment_method: ''
item_id: 0
invoice_status: ''
from_month: 1
to_month: 3
year: 2019
date_to_use: invoice_date

  [1m[36mPayment Load (5.0ms)[0m  [1mSELECT payments.id as payment_id,
        invoices.invoice_number,
        invoices.id as invoice_id,
        IFNULL(invoices.currency_id,0) as currency_id,
        IFNULL(currencies.unit,'USD') as currency_code,
        clients.organization_name as client_name,
        clients.id as client_id,
        payments.payment_type,
        payments.payment_method,
        payments.notes,
        payments.payment_amount,
        payments.created_at FROM `payments` INNER JOIN `companies` ON `companies`.`id` = `payments`.`company_id` AND `companies`.`deleted_at` IS NULL INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND (payments.company_id = 1)[0m
  [1m[35mPayment Load (1.6ms)[0m  SELECT payments.id as payment_id,
        concat('credit-',payments.id) as invoice_number,
        '-' as invoice_id,
        clients.organization_name as client_name,
        clients.id as client_id,
        IFNULL(invoices.currency_id,0) as currency_id,
        IFNULL(currencies.unit,'USD') as currency_code,
        payments.payment_type,
        payments.payment_method,
        payments.notes,
        payments.payment_amount,
        payments.created_at FROM `payments` INNER JOIN `companies` ON `companies`.`id` = `payments`.`company_id` AND `companies`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `payments`.`client_id` AND `clients`.`deleted_at` IS NULL INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `currencies` ON `currencies`.`id` = `invoices`.`currency_id` WHERE `payments`.`deleted_at` IS NULL AND (payments.payment_type = 'credit') AND (`payments`.`created_at` BETWEEN '2018-12-03 05:00:00' AND '2019-01-04 04:59:59') AND (payments.company_id = 1)
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36m (2.5ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`invoice_id` = 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`invoice_id` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`invoice_id` = 2[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND `payments`.`invoice_id` = 2
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'[0m
  [1m[35mInvoice Load (4.9ms)[0m            SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged

  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1  ORDER BY `companies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `items` INNER JOIN `company_entities` ON `items`.`id` = `company_entities`.`entity_id` WHERE `items`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Item'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mInvoiceLineItem Load (0.6ms)[0m  SELECT `invoice_line_items`.* FROM `invoice_line_items` WHERE `invoice_line_items`.`deleted_at` IS NULL AND `invoice_line_items`.`invoice_id` = 1
  [1m[36mInvoiceLineItem Load (0.3ms)[0m  [1mSELECT `invoice_line_items`.* FROM `invoice_line_items` WHERE `invoice_line_items`.`deleted_at` IS NULL AND `invoice_line_items`.`invoice_id` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered reports/_report_activity.html.erb (23.3ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client'  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  Rendered reports/criteria_partials/_payments_collected.html.erb (19.4ms)
  Rendered reports/_criteria_controls.html.erb (21.1ms)
  Rendered reports/report_partials/_format_links.html.erb (71.5ms)
  [1m[35mInvoice Load (0.6ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 1 LIMIT 1
  Rendered reports/report_partials/_payments_collected.html.erb (90.9ms)
  Rendered reports/_report_body.html.erb (92.6ms)
  Rendered reports/reports.html.erb within layouts/application (144.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (10.4ms)
  Rendered layouts/_side_nav.html.erb (36.5ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.1ms)
Completed 200 OK in 440ms (Views: 310.8ms | ActiveRecord: 50.0ms)


Started GET "/en/dashboard" for 127.0.0.1 at 2019-01-03 15:57:14 -0500
Processing by DashboardController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mCurrency Load (1.1ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65[0m
  [1m[35m (2.5ms)[0m  SELECT SUM(`invoices`.`invoice_total`) AS sum_invoice_total, month(invoice_date) AS month_invoice_date FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (currency_id=65) AND (company_id=1) GROUP BY month(invoice_date)
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) AS sum_payment_amount, month(payment_date) AS month_payment_date FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (`payments`.`payment_date` BETWEEN '2018-07-01' AND '2019-01-31') AND (payment_type is null or payment_type != 'credit') AND (invoice_id IN (1,2)) AND (company_id=1) GROUP BY month(payment_date)[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  id, client_id, currency_id, invoice_total, created_at FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (currency_id=65) AND (company_id=1)  ORDER BY created_at DESC LIMIT 10
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mCurrency Load (0.3ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1  [["id", 65]]
  [1m[36mSQL (1.6ms)[0m  [1mSELECT  payments.id, clients.organization_name, payments.payment_amount, payments.created_at, invoice_id, `payments`.`id` AS t0_r0, `payments`.`invoice_id` AS t0_r1, `payments`.`payment_amount` AS t0_r2, `payments`.`payment_type` AS t0_r3, `payments`.`payment_method` AS t0_r4, `payments`.`payment_date` AS t0_r5, `payments`.`notes` AS t0_r6, `payments`.`send_payment_notification` AS t0_r7, `payments`.`paid_full` AS t0_r8, `payments`.`archive_number` AS t0_r9, `payments`.`archived_at` AS t0_r10, `payments`.`deleted_at` AS t0_r11, `payments`.`created_at` AS t0_r12, `payments`.`updated_at` AS t0_r13, `payments`.`credit_applied` AS t0_r14, `payments`.`client_id` AS t0_r15, `payments`.`company_id` AS t0_r16, `payments`.`status` AS t0_r17, `payments`.`provider` AS t0_r18, `payments`.`provider_id` AS t0_r19, `invoices`.`id` AS t1_r0, `invoices`.`invoice_number` AS t1_r1, `invoices`.`invoice_date` AS t1_r2, `invoices`.`po_number` AS t1_r3, `invoices`.`discount_percentage` AS t1_r4, `invoices`.`client_id` AS t1_r5, `invoices`.`terms` AS t1_r6, `invoices`.`notes` AS t1_r7, `invoices`.`status` AS t1_r8, `invoices`.`sub_total` AS t1_r9, `invoices`.`discount_amount` AS t1_r10, `invoices`.`tax_amount` AS t1_r11, `invoices`.`invoice_total` AS t1_r12, `invoices`.`archive_number` AS t1_r13, `invoices`.`archived_at` AS t1_r14, `invoices`.`deleted_at` AS t1_r15, `invoices`.`created_at` AS t1_r16, `invoices`.`updated_at` AS t1_r17, `invoices`.`payment_terms_id` AS t1_r18, `invoices`.`due_date` AS t1_r19, `invoices`.`last_invoice_status` AS t1_r20, `invoices`.`discount_type` AS t1_r21, `invoices`.`company_id` AS t1_r22, `invoices`.`project_id` AS t1_r23, `invoices`.`invoice_type` AS t1_r24, `invoices`.`currency_id` AS t1_r25, `invoices`.`created_by` AS t1_r26, `invoices`.`updated_by` AS t1_r27, `invoices`.`provider` AS t1_r28, `invoices`.`provider_id` AS t1_r29, `invoices`.`tax_id` AS t1_r30, `invoices`.`invoice_tax_amount` AS t1_r31, `invoices`.`parent_id` AS t1_r32, `clients`.`id` AS t2_r0, `clients`.`organization_name` AS t2_r1, `clients`.`email` AS t2_r2, `clients`.`first_name` AS t2_r3, `clients`.`last_name` AS t2_r4, `clients`.`home_phone` AS t2_r5, `clients`.`mobile_number` AS t2_r6, `clients`.`send_invoice_by` AS t2_r7, `clients`.`country` AS t2_r8, `clients`.`address_street1` AS t2_r9, `clients`.`address_street2` AS t2_r10, `clients`.`city` AS t2_r11, `clients`.`province_state` AS t2_r12, `clients`.`postal_zip_code` AS t2_r13, `clients`.`industry` AS t2_r14, `clients`.`company_size` AS t2_r15, `clients`.`business_phone` AS t2_r16, `clients`.`fax` AS t2_r17, `clients`.`internal_notes` AS t2_r18, `clients`.`archive_number` AS t2_r19, `clients`.`archived_at` AS t2_r20, `clients`.`deleted_at` AS t2_r21, `clients`.`created_at` AS t2_r22, `clients`.`updated_at` AS t2_r23, `clients`.`available_credit` AS t2_r24, `clients`.`currency_id` AS t2_r25, `clients`.`provider` AS t2_r26, `clients`.`provider_id` AS t2_r27 FROM `payments` INNER JOIN `invoices` ON `invoices`.`id` = `payments`.`invoice_id` AND `invoices`.`deleted_at` IS NULL INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id` AND `clients`.`deleted_at` IS NULL WHERE `payments`.`deleted_at` IS NULL AND (payments.company_id=1)  ORDER BY payments.created_at DESC LIMIT 100[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1  [["id", 65]]
  [1m[36mInvoice Load (3.2ms)[0m  [1m          SELECT zero_to_thirty, thirty_one_to_sixty, sixty_one_to_ninety, ninety_one_and_above
          FROM (
            SELECT
              SUM(CASE WHEN aged.age BETWEEN 0 AND 30 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS zero_to_thirty,
              SUM(CASE WHEN aged.age BETWEEN 31 AND 60 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS thirty_one_to_sixty,
              SUM(CASE WHEN aged.age BETWEEN 61 AND 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS sixty_one_to_ninety,
              SUM(CASE WHEN aged.age > 90 THEN aged.invoice_total - aged.payment_received ELSE 0 END) AS ninety_one_and_above,
              0 AS client_total
            FROM (
              SELECT
                clients.organization_name AS client_name,
                invoices.invoice_total,
                IFNULL(SUM(payments.payment_amount), 0) payment_received,
                DATEDIFF('2019-01-03', DATE(IFNULL(invoices.due_date, invoices.invoice_date))) age,
                invoices.`status`
              FROM `invoices`
                INNER JOIN `clients` ON `clients`.`id` = `invoices`.`client_id`
                LEFT JOIN `payments` ON `invoices`.`id` = `payments`.`invoice_id` AND (payments.payment_date <= '2019-01-03') AND (`payments`.`deleted_at` IS NULL)
              WHERE
                (`invoices`.`deleted_at` IS NULL)
                AND (DATE(IFNULL(invoices.due_date, invoices.invoice_date)) <= '2019-01-03')
                AND (invoices.`status` != "paid")
                 AND invoices.currency_id=65 
                AND invoices.company_id=1
              GROUP BY clients.organization_name,  invoices.invoice_total, invoices.`status`, invoices.invoice_number
            ) AS aged
          ) total_aged
[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`invoices`.`invoice_total`) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND ( invoices.currency_id=65) AND (invoices.company_id=1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invoices`.`id` FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`currency_id` = 65  [["currency_id", 65]]
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`payments`.`payment_amount`) FROM `payments` WHERE `payments`.`deleted_at` IS NULL AND (payment_type is null or payment_type != "credit") AND (invoice_id IN (1,2)) AND (company_id=1)[0m
  [1m[35mInvoice Load (0.5ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (`invoices`.`invoice_date` BETWEEN '2019-01-01' AND '2019-01-03') AND ( invoices.currency_id=65) AND (invoices.company_id=1)
  Rendered dashboard/_recent_activity.html.erb (117.0ms)
  Rendered dashboard/_widgets.html.erb (10.1ms)
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) >= '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mInvoice Load (0.6ms)[0m  SELECT `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (IFNULL(due_date, invoice_date) < '2019-01-03') AND `invoices`.`company_id` = 1  ORDER BY created_at DESC
  Rendered dashboard/_invoices_list.html.erb (30.4ms)
  Rendered dashboard/index.erb within layouts/application (168.4ms)
  [1m[36mCompany Load (1.7ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (15.3ms)
  Rendered layouts/_side_nav.html.erb (47.1ms)
  Rendered layouts/_flash_messages.html.erb (7.8ms)
  Rendered layouts/_new_actions_buttons.html.erb (8.7ms)
Completed 200 OK in 755ms (Views: 384.7ms | ActiveRecord: 43.0ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 15:57:53 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (2.8ms)
  [1m[35mCurrency Load (0.8ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered import_data/_qb_connect.html.erb (1.8ms)
  Rendered settings/_basic_setting.html.erb (88.4ms)
  [1m[36mEmailTemplate Load (2.4ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (24.1ms)
  Rendered settings/index.html.erb within layouts/application (121.6ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (8.5ms)
  Rendered layouts/_side_nav.html.erb (26.6ms)
  Rendered layouts/_flash_messages.html.erb (1.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.5ms)
Completed 200 OK in 257ms (Views: 233.3ms | ActiveRecord: 6.6ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 15:57:54 -0500
Processing by SubUsersController#settings_listing as */*
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users`
  Rendered sub_users/_user.html.erb (13.8ms)
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (74.9ms)
  Rendered sub_users/settings_listing.html.erb (116.9ms)
Completed 200 OK in 155ms (Views: 138.3ms | ActiveRecord: 2.5ms)


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 15:57:54 -0500


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 15:57:55 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (2.8ms)
  [1m[36mCurrency Load (4.6ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.7ms)
  Rendered settings/_basic_setting.html.erb (233.0ms)
  [1m[35mEmailTemplate Load (0.6ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (3.5ms)
  Rendered settings/index.html.erb within layouts/application (258.7ms)
  [1m[36mCompany Load (0.5ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (1.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (1.6ms)
  Rendered layouts/_header.html.erb (318.4ms)
  Rendered layouts/_side_nav.html.erb (47.1ms)
  Rendered layouts/_flash_messages.html.erb (2.0ms)
  Rendered layouts/_new_actions_buttons.html.erb (9.0ms)
Completed 200 OK in 752ms (Views: 734.0ms | ActiveRecord: 9.1ms)
Processing by CompaniesController#settings_listing as */*
  [1m[36mUser Load (6.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (36.9ms)[0m  SELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  [1m[36mCompany Load (1.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered companies/_company.html.erb (3.1ms)
  Rendered companies/_settings_company_form.html.erb (29.5ms)
  Rendered companies/settings_listing.html.erb (123.9ms)
Completed 200 OK in 3187ms (Views: 304.5ms | ActiveRecord: 172.7ms)


Started POST "/settings" for 127.0.0.1 at 2019-01-03 15:58:04 -0500
Processing by SettingsController#create as JS
  Parameters: {"utf8"=>"✓", "multi_currency"=>"Off", "index_page_format"=>"table", "default_currency"=>"INR", "locale"=>"en", "date_format"=>"%d-%b-%Y", "records_per_page"=>"51", "commit"=>""}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (2.4ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'currency'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (29.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mUser Load (25.9ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mRailsSettings::ScopedSettings Load (1.2ms)[0m  SELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'side_nav_opened'  ORDER BY `settings`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  UPDATE `settings` SET `value` = '--- false\n...\n', `updated_at` = '2019-01-03 20:58:04' WHERE `settings`.`id` = 5
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'date_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'records_per_page'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'language'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'default_currency'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mRailsSettings::ScopedSettings Load (0.5ms)[0m  [1mSELECT  `settings`.* FROM `settings` WHERE `settings`.`thing_type` = 'User' AND `settings`.`thing_id` = 1 AND `settings`.`var` = 'index_page_format'  ORDER BY `settings`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered settings/create.js.erb (5.6ms)
Completed 200 OK in 710ms (Views: 17.6ms | ActiveRecord: 140.6ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 15:58:05 -0500
Processing by SettingsController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered settings/_setting_activity.html.erb (12.0ms)
  [1m[35mCurrency Load (4.5ms)[0m  SELECT `currencies`.* FROM `currencies`
  Rendered import_data/_qb_connect.html.erb (1.5ms)
  Rendered settings/_basic_setting.html.erb (398.7ms)
  [1m[36mEmailTemplate Load (2.4ms)[0m  [1mSELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder[0m
  Rendered settings/_email_templates.html.erb (13.1ms)
  Rendered settings/index.html.erb within layouts/application (450.0ms)
  [1m[35mCompany Load (1.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (2.0ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (17.4ms)
  Rendered layouts/_side_nav.html.erb (54.6ms)
  Rendered layouts/_flash_messages.html.erb (2.1ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.0ms)
Completed 200 OK in 796ms (Views: 707.4ms | ActiveRecord: 36.6ms)


Started GET "/sub_users/settings_listing" for 127.0.0.1 at 2019-01-03 15:58:06 -0500


Started GET "/companies/settings_listing" for 127.0.0.1 at 2019-01-03 15:58:06 -0500
Processing by SubUsersController#settings_listing as */*
Processing by CompaniesController#settings_listing as */*
  [1m[35mUser Load (1.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[35mUser Load (5.1ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (6.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users`
  [1m[36m (2.5ms)[0m  [1mSELECT COUNT(*) FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered sub_users/_user.html.erb (7.5ms)
  [1m[35mCompany Load (3.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered companies/_company.html.erb (3.6ms)
  Rendered companies/_settings_company_form.html.erb (17.7ms)
  Rendered companies/settings_listing.html.erb (50.3ms)
Completed 200 OK in 145ms (Views: 61.2ms | ActiveRecord: 13.3ms)
  [1m[36mRole Load (1.7ms)[0m  [1mSELECT `roles`.* FROM `roles`[0m
  Rendered sub_users/_sub_user_form.html.erb (74.9ms)
  Rendered sub_users/settings_listing.html.erb (131.2ms)
Completed 200 OK in 210ms (Views: 145.3ms | ActiveRecord: 39.8ms)


Started GET "/en/settings" for 127.0.0.1 at 2019-01-03 15:58:08 -0500
Processing by SettingsController#index as */*
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered settings/_setting_activity.html.erb (5.1ms)
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT `currencies`.* FROM `currencies`[0m
  Rendered import_data/_qb_connect.html.erb (0.3ms)
  Rendered settings/_basic_setting.html.erb (178.9ms)
  [1m[35mEmailTemplate Load (4.6ms)[0m  SELECT `email_templates`.* FROM `email_templates`  ORDER BY email_templates.torder
  Rendered settings/_email_templates.html.erb (13.2ms)
  Rendered settings/index.html.erb within layouts/application (217.3ms)
  [1m[36mCompany Load (1.3ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (9.6ms)
  Rendered layouts/_side_nav.html.erb (33.7ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_new_actions_buttons.html.erb (6.0ms)
Completed 200 OK in 731ms (Views: 673.1ms | ActiveRecord: 42.5ms)


Started GET "/en/estimates" for 127.0.0.1 at 2019-01-03 15:58:28 -0500
Processing by EstimatesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (1.7ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mEstimate Load (0.5ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.2ms)[0m  SELECT  `estimates`.* FROM `estimates` WHERE (estimates.company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.2ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL
  [1m[36mCurrency Load (0.9ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE (company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered estimates/_estimate_activity.html.erb (39.5ms)
  [1m[35mAccount Load (3.2ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (2.2ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.8ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `estimates`
  Rendered estimates/_filters.html.erb (44.8ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered estimates/_table_view.html.erb (10.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (11.4ms)
  Rendered estimates/_estimates_container.html.erb (25.2ms)
  Rendered estimates/_bulk_actions.html.erb (2.5ms)
  Rendered estimates/index.html.erb within layouts/application (126.0ms)
  [1m[35mCompany Load (0.3ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (1.7ms)
  Rendered layouts/_header.html.erb (14.1ms)
  Rendered layouts/_side_nav.html.erb (47.5ms)
  Rendered layouts/_flash_messages.html.erb (3.5ms)
  Rendered layouts/_new_actions_buttons.html.erb (8.9ms)
Completed 200 OK in 433ms (Views: 314.2ms | ActiveRecord: 33.5ms)


Started GET "/en/estimates?search%5Bestimate_line_items%5D=12&_=1546549109888" for 127.0.0.1 at 2019-01-03 15:59:14 -0500
Processing by EstimatesController#index as JS
  Parameters: {"search"=>{"estimate_line_items"=>"12"}, "_"=>"1546549109888", "locale"=>"en"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mEstimate Load (5.4ms)[0m  SELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.8ms)[0m  [1mSELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE (estimates.company_id IN(1)) AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.9ms)[0m  SELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (5.2ms)[0m  [1mSELECT COUNT(DISTINCT count_column) FROM (SELECT  DISTINCT `estimates`.`id` AS count_column FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered estimates/_table_view.html.erb (11.4ms)
  [1m[35m (1.3ms)[0m  SELECT DISTINCT COUNT(DISTINCT `estimates`.`id`) FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(DISTINCT count_column) FROM (SELECT  DISTINCT `estimates`.`id` AS count_column FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND ((invoice_line_items.item_name like '12%' or invoice_line_items.item_description like '12%')) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (19.4ms)
  Rendered estimates/_estimates_container.html.erb (36.5ms)
  Rendered estimates/index.js.erb (39.4ms)
Completed 200 OK in 328ms (Views: 157.6ms | ActiveRecord: 56.7ms)


Started GET "/en/estimates?_=1546549109889" for 127.0.0.1 at 2019-01-03 15:59:16 -0500
Processing by EstimatesController#index as JS
  Parameters: {"_"=>"1546549109889", "locale"=>"en"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.0ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mEstimate Load (1.1ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.3ms)[0m  SELECT  `estimates`.* FROM `estimates` WHERE (estimates.company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.2ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (6.5ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered estimates/_table_view.html.erb (13.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (46.5ms)
  Rendered estimates/_estimates_container.html.erb (63.6ms)
  Rendered estimates/index.js.erb (66.8ms)
Completed 200 OK in 420ms (Views: 112.1ms | ActiveRecord: 52.8ms)


Started GET "/en/estimates?search%5Bestimate_number%5D=inch&_=1546549109890" for 127.0.0.1 at 2019-01-03 15:59:20 -0500
Processing by EstimatesController#index as JS
  Parameters: {"search"=>{"estimate_number"=>"inch"}, "_"=>"1546549109890", "locale"=>"en"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (3.1ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mEstimate Load (9.3ms)[0m  [1mSELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (estimate_number like 'inch%') AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (1.2ms)[0m  SELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE (estimates.company_id IN(1)) AND (estimate_number like 'inch%') AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.8ms)[0m  [1mSELECT  DISTINCT `estimates`.* FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (estimate_number like 'inch%') AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (5.2ms)[0m  SELECT COUNT(DISTINCT count_column) FROM (SELECT  DISTINCT `estimates`.`id` AS count_column FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimate_number like 'inch%') AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered estimates/_table_view.html.erb (11.7ms)
  [1m[36m (1.1ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT `estimates`.`id`) FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimate_number like 'inch%') AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(DISTINCT count_column) FROM (SELECT  DISTINCT `estimates`.`id` AS count_column FROM `estimates` INNER JOIN `invoice_line_items` ON `invoice_line_items`.`estimate_id` = `estimates`.`id` AND `invoice_line_items`.`deleted_at` IS NULL LEFT OUTER JOIN clients ON clients.id = estimates.client_id LEFT OUTER JOIN clients as cc ON estimates.client_id = cc.id WHERE `estimates`.`deleted_at` IS NULL AND (estimate_number like 'inch%') AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (15.5ms)
  Rendered estimates/_estimates_container.html.erb (32.5ms)
  Rendered estimates/index.js.erb (35.6ms)
Completed 200 OK in 325ms (Views: 53.4ms | ActiveRecord: 61.5ms)


Started GET "/en/estimates?_=1546549109891" for 127.0.0.1 at 2019-01-03 15:59:22 -0500
Processing by EstimatesController#index as JS
  Parameters: {"_"=>"1546549109891", "locale"=>"en"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (2.6ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mEstimate Load (1.1ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mEstimate Load (0.3ms)[0m  SELECT  `estimates`.* FROM `estimates` WHERE (estimates.company_id IN(1)) AND (`estimates`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mEstimate Load (0.4ms)[0m  [1mSELECT  `estimates`.* FROM `estimates` WHERE `estimates`.`deleted_at` IS NULL AND (estimates.company_id IN(1)) AND (`estimates`.`archived_at` IS NOT NULL) AND (`estimates`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (3.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered estimates/_table_view.html.erb (4.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `estimates` LEFT OUTER JOIN clients ON clients.id = estimates.client_id WHERE `estimates`.`deleted_at` IS NULL AND `estimates`.`archived_at` IS NULL AND `estimates`.`archive_number` IS NULL AND (estimates.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (6.3ms)
  Rendered estimates/_estimates_container.html.erb (13.8ms)
  Rendered estimates/index.js.erb (15.4ms)
Completed 200 OK in 104ms (Views: 26.5ms | ActiveRecord: 45.6ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 15:59:26 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mRole Load (5.2ms)[0m  SELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  [1m[36mInvoice Load (4.2ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.7ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (3.1ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0
  [1m[36m (1.9ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL
  [1m[36mCurrency Load (3.3ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (4.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (181.2ms)
  [1m[36mAccount Load (8.0ms)[0m  [1mSELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mClient Load (2.1ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCompany Load (1.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[36m (4.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices`[0m
  [1m[35mInvoice Load (1.5ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1[0m
  Rendered invoices/_filters.html.erb (218.7ms)
  [1m[35m (4.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  [1m[36mInvoice Load (1.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1
  [1m[36mCurrency Load (0.4ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m
  [1m[35mRecurringSchedule Load (0.3ms)[0m  SELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 2 LIMIT 1
  [1m[36mClient Load (1.4ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1  [["id", 65]]
  [1m[36mRecurringSchedule Load (0.5ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1[0m
  Rendered invoices/_table_view.html.erb (204.8ms)
  [1m[35m (3.0ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (27.0ms)
  Rendered invoices/_invoices_container.html.erb (238.7ms)
  Rendered invoices/_bulk_actions.erb (4.7ms)
  Rendered invoices/index.html.erb within layouts/application (661.2ms)
  [1m[35mCompany Load (155.9ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1
  [1m[36mCompany Load (194.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL[0m
  Rendered layouts/_bulk_action_links.html.erb (15.7ms)
  Rendered layouts/_header.html.erb (485.4ms)
  Rendered layouts/_side_nav.html.erb (352.2ms)
  Rendered layouts/_flash_messages.html.erb (4.6ms)
  Rendered layouts/_new_actions_buttons.html.erb (9.9ms)
Completed 200 OK in 4883ms (Views: 4269.6ms | ActiveRecord: 489.6ms)


Started GET "/en/invoices?utf8=%E2%9C%93&type%5B%5D=draft" for 127.0.0.1 at 2019-01-03 16:00:09 -0500
Processing by InvoicesController#index as JS
  Parameters: {"utf8"=>"✓", "type"=>["draft"], "locale"=>"en"}
  [1m[35mUser Load (3.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (83.5ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (63.9ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`status` = 'draft' AND `invoices`.`status` = 'draft' AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (10.1ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND `invoices`.`status` = 'draft' AND `invoices`.`status` = 'draft' AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (0.6ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`status` = 'draft' AND `invoices`.`status` = 'draft' AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (1.6ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`status` = 'draft' AND `invoices`.`status` = 'draft' AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (2.1ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (11.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (22.4ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft' AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  [1m[35mInvoice Load (4.0ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft' AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mCurrency Load (0.9ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mRecurringSchedule Load (2.1ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 2 LIMIT 1[0m
  Rendered invoices/_table_view.html.erb (83.5ms)
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft' AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft' AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  Rendered shared/_pagination.html.slim (17.6ms)
  Rendered invoices/_invoices_container.html.erb (122.1ms)
  Rendered invoices/index.js.erb (130.3ms)
Completed 200 OK in 821ms (Views: 157.3ms | ActiveRecord: 252.4ms)


Started GET "/en/invoices?utf8=%E2%9C%93" for 127.0.0.1 at 2019-01-03 16:00:13 -0500
Processing by InvoicesController#index as JS
  Parameters: {"utf8"=>"✓", "locale"=>"en"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (7.8ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (7.9ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (4.3ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (1.4ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (2.6ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (1.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (11.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  [1m[35mInvoice Load (4.3ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mCurrency Load (0.5ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mRecurringSchedule Load (0.5ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 2 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mRecurringSchedule Load (0.3ms)[0m  SELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1
  Rendered invoices/_table_view.html.erb (49.6ms)
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (16.0ms)
  Rendered invoices/_invoices_container.html.erb (70.9ms)
  Rendered invoices/index.js.erb (72.6ms)
Completed 200 OK in 273ms (Views: 77.6ms | ActiveRecord: 86.6ms)


Started GET "/en/invoices/send_invoice?id=2" for 127.0.0.1 at 2019-01-03 16:00:19 -0500
Processing by InvoicesController#send_invoice as JS
  Parameters: {"id"=>"2", "locale"=>"en"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35mInvoice Load (2.4ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`id` = 2 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvoiceLineItem Load (6.6ms)[0m  SELECT `invoice_line_items`.* FROM `invoice_line_items` WHERE `invoice_line_items`.`deleted_at` IS NULL AND `invoice_line_items`.`invoice_id` = 2
  [1m[36mSQL (17.9ms)[0m  [1mUPDATE `invoices` SET `status` = 'sent', `updated_at` = '2019-01-03 21:00:19' WHERE `invoices`.`id` = 2[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `clients` SET `clients`.`updated_at` = '2019-01-03 21:00:19' WHERE `clients`.`id` = 2[0m
  [1m[35m (19.2ms)[0m  COMMIT
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (17.9ms)[0m  INSERT INTO `delayed_jobs` (`handler`, `run_at`, `created_at`, `updated_at`) VALUES ('--- !ruby/object:Delayed::PerformableMailer\nobject: !ruby/class \'InvoiceMailer\'\nmethod_name: :new_invoice_email\nargs:\n- !ruby/object:Client\n  raw_attributes:\n    id: 2\n    updated_at: &5 2019-01-03 21:00:19.641034183 Z\n    organization_name: \" Mohan traders\"\n    email: asdas@asd.com\n    first_name: Mohan\n    last_name: L\n    home_phone: \n    mobile_number: \'\'\n    send_invoice_by: \n    country: \'\'\n    address_street1: \'\'\n    address_street2: \'\'\n    city: \'\'\n    province_state: \'\'\n    postal_zip_code: \'\'\n    industry: \'\'\n    company_size: \'\'\n    business_phone: \'\'\n    fax: \'\'\n    internal_notes: \'\'\n    archive_number: \n    archived_at: \n    deleted_at: \n    created_at: &4 2019-01-03 20:45:27.000000000 Z\n    available_credit: !ruby/object:BigDecimal 18:0.0\n    currency_id: 65\n    provider: \n    provider_id: \n  attributes: !ruby/object:ActiveRecord::AttributeSet\n    attributes: !ruby/object:ActiveRecord::LazyAttributeHash\n      types:\n        id: &3 !ruby/object:ActiveRecord::Type::Integer\n          precision: \n          scale: \n          limit: 4\n          range: !ruby/range\n            begin: -2147483648\n            end: 2147483648\n            excl: true\n        organization_name: &1 !ruby/object:ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::MysqlString\n          precision: \n          scale: \n          limit: 255\n        email: *1\n        first_name: *1\n        last_name: *1\n        home_phone: *1\n        mobile_number: *1\n        send_invoice_by: *1\n        country: *1\n        address_street1: *1\n        address_street2: *1\n        city: *1\n        province_state: *1\n        postal_zip_code: *1\n        industry: *1\n        company_size: *1\n        business_phone: *1\n        fax: *1\n        internal_notes: &7 !ruby/object:ActiveRecord::Type::Text\n          precision: \n          scale: \n          limit: 65535\n        archive_number: *1\n        archived_at: &8 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: &2 !ruby/object:ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::MysqlDateTime\n            precision: \n            scale: \n            limit: \n        deleted_at: &9 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        created_at: &10 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        updated_at: &6 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        available_credit: &11 !ruby/object:ActiveRecord::Type::Decimal\n          precision: 8\n          scale: 2\n          limit: \n        currency_id: *3\n        provider: *1\n        provider_id: *1\n      values:\n        id: 2\n        organization_name: \" Mohan traders\"\n        email: asdas@asd.com\n        first_name: Mohan\n        last_name: L\n        home_phone: \n        mobile_number: \'\'\n        send_invoice_by: \n        country: \'\'\n        address_street1: \'\'\n        address_street2: \'\'\n        city: \'\'\n        province_state: \'\'\n        postal_zip_code: \'\'\n        industry: \'\'\n        company_size: \'\'\n        business_phone: \'\'\n        fax: \'\'\n        internal_notes: \'\'\n        archive_number: \n        archived_at: \n        deleted_at: \n        created_at: *4\n        updated_at: 2019-01-03 20:46:47.000000000 Z\n        available_credit: !ruby/object:BigDecimal 18:0.0\n        currency_id: 65\n        provider: \n        provider_id: \n      additional_types: {}\n      materialized: true\n      delegate_hash:\n        id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: id\n          value_before_type_cast: 2\n          type: *3\n          value: 2\n        updated_at: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: updated_at\n          value_before_type_cast: *5\n          type: *6\n          value: *5\n        organization_name: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: organization_name\n          value_before_type_cast: \" Mohan traders\"\n          type: *1\n        email: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: email\n          value_before_type_cast: asdas@asd.com\n          type: *1\n        first_name: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: first_name\n          value_before_type_cast: Mohan\n          type: *1\n        last_name: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: last_name\n          value_before_type_cast: L\n          type: *1\n        home_phone: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: home_phone\n          value_before_type_cast: \n          type: *1\n        mobile_number: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: mobile_number\n          value_before_type_cast: \'\'\n          type: *1\n        send_invoice_by: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: send_invoice_by\n          value_before_type_cast: \n          type: *1\n        country: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: country\n          value_before_type_cast: \'\'\n          type: *1\n        address_street1: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: address_street1\n          value_before_type_cast: \'\'\n          type: *1\n        address_street2: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: address_street2\n          value_before_type_cast: \'\'\n          type: *1\n        city: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: city\n          value_before_type_cast: \'\'\n          type: *1\n        province_state: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: province_state\n          value_before_type_cast: \'\'\n          type: *1\n        postal_zip_code: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: postal_zip_code\n          value_before_type_cast: \'\'\n          type: *1\n        industry: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: industry\n          value_before_type_cast: \'\'\n          type: *1\n        company_size: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: company_size\n          value_before_type_cast: \'\'\n          type: *1\n        business_phone: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: business_phone\n          value_before_type_cast: \'\'\n          type: *1\n        fax: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: fax\n          value_before_type_cast: \'\'\n          type: *1\n        internal_notes: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: internal_notes\n          value_before_type_cast: \'\'\n          type: *7\n        archive_number: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: archive_number\n          value_before_type_cast: \n          type: *1\n        archived_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: archived_at\n          value_before_type_cast: \n          type: *8\n        deleted_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: deleted_at\n          value_before_type_cast: \n          type: *9\n        created_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: created_at\n          value_before_type_cast: *4\n          type: *10\n        available_credit: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: available_credit\n          value_before_type_cast: !ruby/object:BigDecimal 18:0.0\n          type: *11\n        currency_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: currency_id\n          value_before_type_cast: 65\n          type: *3\n        provider: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: provider\n          value_before_type_cast: \n          type: *1\n        provider_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: provider_id\n          value_before_type_cast: \n          type: *1\n  new_record: false\n  active_record_yaml_version: 0\n- !ruby/object:Invoice\n  raw_attributes:\n    status: sent\n    id: 2\n    archive_number: \n    archived_at: \n    updated_by: 1\n    invoice_number: \'00002\'\n    invoice_date: &13 2019-01-03 05:00:00.000000000 Z\n    po_number: \n    discount_percentage: \n    client_id: 2\n    terms: \n    notes: \'\'\n    sub_total: 576.0\n    discount_amount: !ruby/object:BigDecimal 18:0.0\n    tax_amount: !ruby/object:BigDecimal 18:0.0\n    invoice_total: 576.0\n    deleted_at: \n    created_at: &14 2019-01-03 20:46:47.000000000 Z\n    updated_at: &19 2019-01-03 21:00:19.615668641 Z\n    payment_terms_id: 4\n    due_date: 2019-01-04\n    last_invoice_status: \n    discount_type: \"%\"\n    company_id: 1\n    project_id: \n    invoice_type: Invoice\n    currency_id: 65\n    created_by: 1\n    provider: \n    provider_id: \n    tax_id: \n    invoice_tax_amount: !ruby/object:BigDecimal 18:0.0\n    parent_id: \n  attributes: !ruby/object:ActiveRecord::AttributeSet\n    attributes: !ruby/object:ActiveRecord::LazyAttributeHash\n      types:\n        id: *3\n        invoice_number: *1\n        invoice_date: &16 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        po_number: *1\n        discount_percentage: &12 !ruby/object:ActiveRecord::Type::Decimal\n          precision: 10\n          scale: 2\n          limit: \n        client_id: *3\n        terms: *7\n        notes: *7\n        status: *1\n        sub_total: *12\n        discount_amount: *12\n        tax_amount: *12\n        invoice_total: *12\n        archive_number: *1\n        archived_at: &15 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        deleted_at: &17 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        created_at: &18 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        updated_at: &20 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        payment_terms_id: *3\n        due_date: &21 !ruby/object:ActiveRecord::Type::Date\n          precision: \n          scale: \n          limit: \n        last_invoice_status: *1\n        discount_type: *1\n        company_id: *3\n        project_id: *3\n        invoice_type: *1\n        currency_id: *3\n        created_by: *3\n        updated_by: *3\n        provider: *1\n        provider_id: *1\n        tax_id: *3\n        invoice_tax_amount: *12\n        parent_id: *3\n      values:\n        id: 2\n        invoice_number: \'00002\'\n        invoice_date: *13\n        po_number: \n        discount_percentage: \n        client_id: 2\n        terms: \n        notes: \'\'\n        status: draft\n        sub_total: !ruby/object:BigDecimal 18:0.576E3\n        discount_amount: !ruby/object:BigDecimal 18:0.0\n        tax_amount: !ruby/object:BigDecimal 18:0.0\n        invoice_total: !ruby/object:BigDecimal 18:0.576E3\n        archive_number: \n        archived_at: \n        deleted_at: \n        created_at: *14\n        updated_at: 2019-01-03 20:46:47.000000000 Z\n        payment_terms_id: 4\n        due_date: 2019-01-04\n        last_invoice_status: \n        discount_type: \"%\"\n        company_id: 1\n        project_id: \n        invoice_type: Invoice\n        currency_id: 65\n        created_by: 1\n        updated_by: 1\n        provider: \n        provider_id: \n        tax_id: \n        invoice_tax_amount: !ruby/object:BigDecimal 18:0.0\n        parent_id: \n      additional_types: {}\n      materialized: true\n      delegate_hash:\n        status: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: status\n          value_before_type_cast: sent\n          type: *1\n          value: sent\n        id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: id\n          value_before_type_cast: 2\n          type: *3\n          value: 2\n        archive_number: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: archive_number\n          value_before_type_cast: \n          type: *1\n          value: \n        archived_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: archived_at\n          value_before_type_cast: \n          type: *15\n          value: \n        updated_by: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: updated_by\n          value_before_type_cast: 1\n          type: *3\n          value: 1\n        invoice_number: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: invoice_number\n          value_before_type_cast: \'00002\'\n          type: *1\n          value: \'00002\'\n        invoice_date: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: invoice_date\n          value_before_type_cast: *13\n          type: *16\n          value: *13\n        po_number: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: po_number\n          value_before_type_cast: \n          type: *1\n          value: \n        discount_percentage: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: discount_percentage\n          value_before_type_cast: \n          type: *12\n          value: \n        client_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: client_id\n          value_before_type_cast: 2\n          type: *3\n          value: 2\n        terms: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: terms\n          value_before_type_cast: \n          type: *7\n          value: \n        notes: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: notes\n          value_before_type_cast: \'\'\n          type: *7\n          value: \'\'\n        sub_total: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: sub_total\n          value_before_type_cast: 576.0\n          type: *12\n          value: !ruby/object:BigDecimal 18:0.576E3\n        discount_amount: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: discount_amount\n          value_before_type_cast: !ruby/object:BigDecimal 18:0.0\n          type: *12\n          value: !ruby/object:BigDecimal 18:0.0\n        tax_amount: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: tax_amount\n          value_before_type_cast: !ruby/object:BigDecimal 18:0.0\n          type: *12\n          value: !ruby/object:BigDecimal 18:0.0\n        invoice_total: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: invoice_total\n          value_before_type_cast: 576.0\n          type: *12\n          value: !ruby/object:BigDecimal 18:0.576E3\n        deleted_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: deleted_at\n          value_before_type_cast: \n          type: *17\n          value: \n        created_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: created_at\n          value_before_type_cast: *14\n          type: *18\n          value: *14\n        updated_at: !ruby/object:ActiveRecord::Attribute::FromUser\n          name: updated_at\n          value_before_type_cast: *19\n          type: *20\n          value: *19\n        payment_terms_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: payment_terms_id\n          value_before_type_cast: 4\n          type: *3\n          value: 4\n        due_date: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: due_date\n          value_before_type_cast: 2019-01-04\n          type: *21\n          value: 2019-01-04\n        last_invoice_status: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: last_invoice_status\n          value_before_type_cast: \n          type: *1\n          value: \n        discount_type: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: discount_type\n          value_before_type_cast: \"%\"\n          type: *1\n          value: \"%\"\n        company_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: company_id\n          value_before_type_cast: 1\n          type: *3\n          value: 1\n        project_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: project_id\n          value_before_type_cast: \n          type: *3\n          value: \n        invoice_type: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: invoice_type\n          value_before_type_cast: Invoice\n          type: *1\n          value: Invoice\n        currency_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: currency_id\n          value_before_type_cast: 65\n          type: *3\n          value: 65\n        created_by: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: created_by\n          value_before_type_cast: 1\n          type: *3\n          value: 1\n        provider: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: provider\n          value_before_type_cast: \n          type: *1\n          value: \n        provider_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: provider_id\n          value_before_type_cast: \n          type: *1\n          value: \n        tax_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: tax_id\n          value_before_type_cast: \n          type: *3\n          value: \n        invoice_tax_amount: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: invoice_tax_amount\n          value_before_type_cast: !ruby/object:BigDecimal 18:0.0\n          type: *12\n          value: !ruby/object:BigDecimal 18:0.0\n        parent_id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: parent_id\n          value_before_type_cast: \n          type: *3\n          value: \n  new_record: false\n  active_record_yaml_version: 0\n- |\n  Wm1neFVIVkliWGhzWkZWaldsWkhNM2Q2YVUxeFp6MDlMUzFtSzJzMWFWbFhS\n  M2xUWlVKR01XZFlNRFZDUzFOblBUMD0tLTg0MGRlNjBiNjNkYjBjNWFkNWM1\n  NTFiMTY5MmRjZTVhMzhkMzhmMjc=\n- !ruby/object:User\n  raw_attributes:\n    password_salt: b_z4MG-jjN9esUr-6j1T\n    confirmed_at: &22 2019-01-03 19:11:25.000000000 Z\n    id: 1\n    email: seyalfactory@gmail.com\n    encrypted_password: f6b127341076f2471d53a830751f552c1c8e8ffc\n    reset_password_token: \n    reset_password_sent_at: \n    remember_created_at: \n    sign_in_count: 0\n    current_sign_in_at: \n    last_sign_in_at: \n    current_sign_in_ip: \n    last_sign_in_ip: \n    confirmation_token: \n    confirmation_sent_at: \n    unconfirmed_email: \n    created_at: &23 2019-01-03 19:11:25.000000000 Z\n    updated_at: &24 2019-01-03 19:11:26.000000000 Z\n    user_name: Rajesh Madhu\n    current_company: 1\n    authentication_token: qHHQ9yHxTyZZNX9EyCKt\n    avatar: \n  attributes: !ruby/object:ActiveRecord::AttributeSet\n    attributes: !ruby/object:ActiveRecord::LazyAttributeHash\n      types:\n        id: *3\n        email: *1\n        encrypted_password: *1\n        reset_password_token: *1\n        reset_password_sent_at: &26 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        remember_created_at: &27 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        sign_in_count: *3\n        current_sign_in_at: &28 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        last_sign_in_at: &29 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        current_sign_in_ip: *1\n        last_sign_in_ip: *1\n        confirmation_token: *1\n        confirmed_at: &25 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        confirmation_sent_at: &30 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        unconfirmed_email: *1\n        created_at: &31 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        updated_at: &32 !ruby/object:ActiveRecord::AttributeMethods::TimeZoneConversion::TimeZoneConverter\n          subtype: *2\n        password_salt: *1\n        user_name: *1\n        current_company: *3\n        authentication_token: *1\n        avatar: *1\n      values:\n        id: 1\n        email: seyalfactory@gmail.com\n        encrypted_password: f6b127341076f2471d53a830751f552c1c8e8ffc\n        reset_password_token: \n        reset_password_sent_at: \n        remember_created_at: \n        sign_in_count: 0\n        current_sign_in_at: \n        last_sign_in_at: \n        current_sign_in_ip: \n        last_sign_in_ip: \n        confirmation_token: \n        confirmed_at: *22\n        confirmation_sent_at: \n        unconfirmed_email: \n        created_at: *23\n        updated_at: *24\n        password_salt: b_z4MG-jjN9esUr-6j1T\n        user_name: Rajesh Madhu\n        current_company: 1\n        authentication_token: qHHQ9yHxTyZZNX9EyCKt\n        avatar: \n      additional_types: {}\n      materialized: true\n      delegate_hash:\n        password_salt: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: password_salt\n          value_before_type_cast: b_z4MG-jjN9esUr-6j1T\n          type: *1\n          value: b_z4MG-jjN9esUr-6j1T\n        confirmed_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: confirmed_at\n          value_before_type_cast: *22\n          type: *25\n          value: *22\n        id: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: id\n          value_before_type_cast: 1\n          type: *3\n          value: 1\n        email: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: email\n          value_before_type_cast: seyalfactory@gmail.com\n          type: *1\n        encrypted_password: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: encrypted_password\n          value_before_type_cast: f6b127341076f2471d53a830751f552c1c8e8ffc\n          type: *1\n        reset_password_token: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: reset_password_token\n          value_before_type_cast: \n          type: *1\n        reset_password_sent_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: reset_password_sent_at\n          value_before_type_cast: \n          type: *26\n        remember_created_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: remember_created_at\n          value_before_type_cast: \n          type: *27\n        sign_in_count: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: sign_in_count\n          value_before_type_cast: 0\n          type: *3\n        current_sign_in_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: current_sign_in_at\n          value_before_type_cast: \n          type: *28\n        last_sign_in_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: last_sign_in_at\n          value_before_type_cast: \n          type: *29\n        current_sign_in_ip: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: current_sign_in_ip\n          value_before_type_cast: \n          type: *1\n        last_sign_in_ip: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: last_sign_in_ip\n          value_before_type_cast: \n          type: *1\n        confirmation_token: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: confirmation_token\n          value_before_type_cast: \n          type: *1\n        confirmation_sent_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: confirmation_sent_at\n          value_before_type_cast: \n          type: *30\n        unconfirmed_email: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: unconfirmed_email\n          value_before_type_cast: \n          type: *1\n        created_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: created_at\n          value_before_type_cast: *23\n          type: *31\n        updated_at: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: updated_at\n          value_before_type_cast: *24\n          type: *32\n        user_name: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: user_name\n          value_before_type_cast: Rajesh Madhu\n          type: *1\n        current_company: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: current_company\n          value_before_type_cast: 1\n          type: *3\n        authentication_token: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: authentication_token\n          value_before_type_cast: qHHQ9yHxTyZZNX9EyCKt\n          type: *1\n        avatar: !ruby/object:ActiveRecord::Attribute::FromDatabase\n          name: avatar\n          value_before_type_cast: \n          type: *1\n  new_record: false\n  active_record_yaml_version: 0\n- \n', '2019-01-03 21:00:20', '2019-01-03 21:00:20', '2019-01-03 21:00:20')
  [1m[36m (21.4ms)[0m  [1mCOMMIT[0m
  Rendered invoices/send_invoice.js.erb (4.2ms)
Completed 200 OK in 834ms (Views: 38.7ms | ActiveRecord: 182.9ms)


Started GET "/en/invoices" for 127.0.0.1 at 2019-01-03 16:00:23 -0500
Processing by InvoicesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mUser Load (19.0ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36mRole Load (62.9ms)[0m  [1mSELECT `roles`.* FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m
  [1m[35mInvoice Load (72.5ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (67.0ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE (invoices.company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35mInvoice Load (10.8ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL) LIMIT 51 OFFSET 0
  [1m[36mInvoice Load (2.1ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (invoices.company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL) LIMIT 51 OFFSET 0[0m
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft'
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'sent'[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'viewed'
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'paid'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'partial'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'draft_partial'[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`status` = 'disputed'
  [1m[36m (95.9ms)[0m  [1mSELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL[0m
  [1m[35mCurrency Load (90.9ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (95.7ms)[0m  SELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN recurring_schedules as rs ON invoices.id = rs.invoice_id WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (rs.id is NOT NULL or invoices.parent_id is NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (88.6ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE (company_id IN(1)) AND (`invoices`.`deleted_at` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  [1m[35m (53.6ms)[0m  SELECT COUNT(*) FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL AND (company_id IN(1)) AND (`invoices`.`archived_at` IS NOT NULL) AND (`invoices`.`archive_number` IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`unit` = 'INR'  ORDER BY `currencies`.`id` ASC LIMIT 1[0m  [["unit", "INR"]]
  Rendered invoices/_invoice_activity.html.erb (563.3ms)
  [1m[35mAccount Load (82.6ms)[0m  SELECT  `accounts`.* FROM `accounts` INNER JOIN `account_users` ON `accounts`.`id` = `account_users`.`account_id` WHERE `account_users`.`user_id` = 1  ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mClient Load (75.5ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Account' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCompany Load (48.4ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1
  [1m[36mClient Load (3.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL AND `companies`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `clients`.* FROM `clients` INNER JOIN `company_entities` ON `clients`.`id` = `company_entities`.`entity_id` WHERE `clients`.`deleted_at` IS NULL AND `company_entities`.`parent_id` = 1 AND `company_entities`.`parent_type` = 'Company' AND `company_entities`.`entity_type` = 'Client' AND `clients`.`archived_at` IS NULL AND `clients`.`archive_number` IS NULL[0m  [["parent_id", 1], ["parent_type", "Company"], ["entity_type", "Client"]]
  [1m[35m (3.7ms)[0m  SELECT COUNT(*) FROM `invoices`
  [1m[36mInvoice Load (15.7ms)[0m  [1mSELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `invoices`.* FROM `invoices` WHERE `invoices`.`deleted_at` IS NULL  ORDER BY `invoices`.`id` DESC LIMIT 1
  Rendered invoices/_filters.html.erb (311.6ms)
  [1m[36m (62.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count[0m
  [1m[35mInvoice Load (82.2ms)[0m  SELECT  `invoices`.* FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))  ORDER BY invoices.created_at desc LIMIT 51 OFFSET 0
  [1m[36mClient Load (75.7ms)[0m  [1mSELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mCurrency Load (77.9ms)[0m  SELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1
  [1m[36mRecurringSchedule Load (44.4ms)[0m  [1mSELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 2 LIMIT 1[0m
  [1m[35mClient Load (2.4ms)[0m  SELECT  `clients`.* FROM `clients` WHERE `clients`.`deleted_at` IS NULL AND `clients`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `currencies`.* FROM `currencies` WHERE `currencies`.`id` = 65 LIMIT 1[0m  [["id", 65]]
  [1m[35mRecurringSchedule Load (83.9ms)[0m  SELECT  `recurring_schedules`.* FROM `recurring_schedules` WHERE `recurring_schedules`.`invoice_id` = 1 LIMIT 1
  Rendered invoices/_table_view.html.erb (593.4ms)
  [1m[36m (61.8ms)[0m  [1mSELECT COUNT(*) FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM `invoices` LEFT OUTER JOIN clients ON clients.id = invoices.client_id WHERE `invoices`.`deleted_at` IS NULL AND `invoices`.`archived_at` IS NULL AND `invoices`.`archive_number` IS NULL AND (invoices.company_id IN(1)) LIMIT 51 OFFSET 0) subquery_for_count
  Rendered shared/_pagination.html.slim (99.3ms)
  Rendered invoices/_invoices_container.html.erb (707.0ms)
  Rendered invoices/_bulk_actions.erb (0.5ms)
  Rendered invoices/index.html.erb within layouts/application (1612.0ms)
  [1m[36mCompany Load (61.7ms)[0m  [1mSELECT  `companies`.* FROM `companies` WHERE `companies`.`id` = 1 LIMIT 1[0m
  [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`deleted_at` IS NULL
  Rendered layouts/_bulk_action_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (121.5ms)
  Rendered layouts/_side_nav.html.erb (113.1ms)
  Rendered layouts/_flash_messages.html.erb (7.6ms)
  Rendered layouts/_new_actions_buttons.html.erb (29.6ms)
Completed 200 OK in 2696ms (Views: 1025.0ms | ActiveRecord: 1481.4ms)
